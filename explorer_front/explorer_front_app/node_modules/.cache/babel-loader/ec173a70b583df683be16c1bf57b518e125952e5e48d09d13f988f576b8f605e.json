{"ast":null,"code":"import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { PLYLoader } from 'three/examples/jsm/loaders/PLYLoader.js';\nimport { TextureLoader } from 'three/examples/jsm/loaders/TextureLoader.js';\n//import { PLYLoader } from 'three-stdlib';\n\nimport texturePath from '../assets/skullbottom.jpg';\nimport modelPath from '../assets/skullbottom.ply';\nexport default {\n  name: 'ThreeJSRenderer',\n  mounted() {\n    this.initThree();\n  },\n  methods: {\n    initThree() {\n      const container = this.$refs.threeContainer;\n      if (container) {\n        this.scene = new THREE.Scene();\n        this.camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);\n        this.camera.position.z = 5;\n        this.renderer = new THREE.WebGLRenderer();\n        this.renderer.setSize(container.clientWidth, container.clientHeight);\n        container.appendChild(this.renderer.domElement);\n        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\n        this.scene.add(ambientLight);\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);\n        directionalLight.position.set(0, 1, 1).normalize();\n        this.scene.add(directionalLight);\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n\n        // Load the PLY file\n        const plyLoader = new PLYLoader();\n        plyLoader.load(modelPath, geometry => {\n          const textureLoader = new THREE.TextureLoader();\n          textureLoader.load(texturePath, texture => {\n            const material = new THREE.MeshBasicMaterial({\n              map: texture\n            });\n            const mesh = new THREE.Mesh(geometry, material);\n            this.scene.add(mesh);\n          });\n        });\n        this.animate = this.animate.bind(this); // Bind the animate function to the component instance\n        this.animate();\n      } else {\n        console.error('Three.js container not found');\n      }\n    },\n    animate() {\n      requestAnimationFrame(this.animate);\n      if (this.controls) {\n        this.controls.update();\n      }\n      this.renderer.render(this.scene, this.camera);\n    }\n  }\n};","map":{"version":3,"names":["THREE","OrbitControls","PLYLoader","TextureLoader","texturePath","modelPath","name","mounted","initThree","methods","container","$refs","threeContainer","scene","Scene","camera","PerspectiveCamera","clientWidth","clientHeight","position","z","renderer","WebGLRenderer","setSize","appendChild","domElement","ambientLight","AmbientLight","add","directionalLight","DirectionalLight","set","normalize","controls","plyLoader","load","geometry","textureLoader","texture","material","MeshBasicMaterial","map","mesh","Mesh","animate","bind","console","error","requestAnimationFrame","update","render"],"sources":["/home/zhu/Documents/github/explorer_front/explorer_front_app/src/components/ThreeJSRenderer.vue"],"sourcesContent":["<template>\n  <div ref=\"threeContainer\"></div>\n</template>\n\n<script>\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { PLYLoader } from 'three/examples/jsm/loaders/PLYLoader.js';\nimport { TextureLoader } from 'three/examples/jsm/loaders/TextureLoader.js';\n//import { PLYLoader } from 'three-stdlib';\n\nimport texturePath from '../assets/skullbottom.jpg';\nimport modelPath from '../assets/skullbottom.ply';\n\n\nexport default {\n  name: 'ThreeJSRenderer',\n  mounted() {\n    this.initThree();\n  },\n  methods: {\n    initThree() {\n      const container = this.$refs.threeContainer;\n      if (container) {\n        this.scene = new THREE.Scene();\n\n        this.camera = new THREE.PerspectiveCamera(\n          75,\n          container.clientWidth / container.clientHeight,\n          0.1,\n          1000\n        );\n        this.camera.position.z = 5;\n\n         this.renderer = new THREE.WebGLRenderer();\n        this.renderer.setSize(container.clientWidth, container.clientHeight);\n        container.appendChild(this.renderer.domElement);\n\n        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\n        this.scene.add(ambientLight);\n\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);\n        directionalLight.position.set(0, 1, 1).normalize();\n        this.scene.add(directionalLight);\n\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n\n        // Load the PLY file\n        const plyLoader = new PLYLoader();\n        plyLoader.load(modelPath, (geometry) => {\n          const textureLoader = new THREE.TextureLoader();\n          textureLoader.load(texturePath, (texture) => {\n            const material = new THREE.MeshBasicMaterial({ map: texture });\n            const mesh = new THREE.Mesh(geometry, material);\n            this.scene.add(mesh);\n          });\n        });\n\n        this.animate = this.animate.bind(this); // Bind the animate function to the component instance\n        this.animate();\n      } else {\n        console.error('Three.js container not found');\n      }\n    },\n    animate() {\n      requestAnimationFrame(this.animate);\n\n      if (this.controls) {\n        this.controls.update();\n      }\n\n      this.renderer.render(this.scene, this.camera);\n    },\n  },\n};\n</script>\n\n<style scoped>\ndiv {\n  width: 100%;\n  height: 100vh;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}