{"ast":null,"code":"import * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader';\nexport default {\n  name: 'ObjViewer',\n  mounted() {\n    this.initThreeJS();\n  },\n  methods: {\n    initThreeJS() {\n      // Set up the scene\n      const scene = new THREE.Scene();\n\n      // Set up the camera\n      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n      camera.position.z = 5;\n\n      // Set up the renderer\n      const renderer = new THREE.WebGLRenderer();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      this.$refs.sceneContainer.appendChild(renderer.domElement);\n\n      // Set up lighting\n      const ambientLight = new THREE.AmbientLight(0x404040); // soft white light\n      scene.add(ambientLight);\n      const pointLight = new THREE.PointLight(0xffffff, 1, 100);\n      pointLight.position.set(10, 10, 10);\n      scene.add(pointLight);\n      const objPath = encodeURI('assets/CAS 8141.obj');\n      const mtlPath = encodeURI('assets/CAS 8141.mtl');\n      console.log(objPath);\n      console.log(mtlPath);\n\n      // Load the .mtl file and then the .obj file\n      const mtlLoader = new MTLLoader();\n      mtlLoader.load(mtlPath, materials => {\n        materials.preload();\n        const objLoader = new OBJLoader();\n        objLoader.setMaterials(materials);\n        objLoader.load(objPath, object => {\n          object.position.set(0, 0, 0); // Adjust position\n          object.scale.set(1, 1, 1); // Adjust scale\n          scene.add(object);\n          console.log('Object loaded and added to the scene');\n        }, xhr => {\n          console.log(xhr.loaded / xhr.total * 100 + '% loaded');\n        }, error => {\n          console.error('An error happened', error);\n        });\n      });\n\n      // Add a simple cube for debugging\n      const geometry = new THREE.BoxGeometry();\n      const material = new THREE.MeshBasicMaterial({\n        color: 0x00ff00\n      });\n      const cube = new THREE.Mesh(geometry, material);\n      cube.position.set(0, 0, -2);\n      scene.add(cube);\n\n      // Animation loop\n      const animate = () => {\n        requestAnimationFrame(animate);\n\n        // Rotate the object (optional)\n        // if (object) {\n        //   object.rotation.x += 0.01;\n        //   object.rotation.y += 0.01;\n        // }\n\n        renderer.render(scene, camera);\n      };\n      animate();\n\n      // Handle window resize\n      window.addEventListener('resize', () => {\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n      });\n    }\n  }\n};","map":{"version":3,"names":["THREE","OBJLoader","MTLLoader","name","mounted","initThreeJS","methods","scene","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","z","renderer","WebGLRenderer","setSize","$refs","sceneContainer","appendChild","domElement","ambientLight","AmbientLight","add","pointLight","PointLight","set","objPath","encodeURI","mtlPath","console","log","mtlLoader","load","materials","preload","objLoader","setMaterials","object","scale","xhr","loaded","total","error","geometry","BoxGeometry","material","MeshBasicMaterial","color","cube","Mesh","animate","requestAnimationFrame","render","addEventListener","aspect","updateProjectionMatrix"],"sources":["/home/zhu/Documents/github/explorer_front/explorer_front_app/src/components/ThreeJSRenderer.vue"],"sourcesContent":["<template>\n  <div ref=\"sceneContainer\" class=\"scene-container\"></div>\n</template>\n\n<script>\nimport * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader';\n\nexport default {\n  name: 'ObjViewer',\n  mounted() {\n    this.initThreeJS();\n  },\n  methods: {\n    initThreeJS() {\n      // Set up the scene\n      const scene = new THREE.Scene();\n\n      // Set up the camera\n      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n      camera.position.z = 5;\n\n      // Set up the renderer\n      const renderer = new THREE.WebGLRenderer();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      this.$refs.sceneContainer.appendChild(renderer.domElement);\n\n      // Set up lighting\n      const ambientLight = new THREE.AmbientLight(0x404040); // soft white light\n      scene.add(ambientLight);\n\n      const pointLight = new THREE.PointLight(0xffffff, 1, 100);\n      pointLight.position.set(10, 10, 10);\n      scene.add(pointLight);\n\n      const objPath = encodeURI('assets/CAS 8141.obj');\n      const mtlPath = encodeURI('assets/CAS 8141.mtl');\n      console.log(objPath);\n      console.log(mtlPath);\n\n      // Load the .mtl file and then the .obj file\n      const mtlLoader = new MTLLoader();\n      mtlLoader.load(mtlPath, (materials) => {\n        materials.preload();\n\n        const objLoader = new OBJLoader();\n        objLoader.setMaterials(materials);\n        objLoader.load(\n          objPath,\n          (object) => {\n            object.position.set(0, 0, 0); // Adjust position\n            object.scale.set(1, 1, 1); // Adjust scale\n            scene.add(object);\n            console.log('Object loaded and added to the scene');\n          },\n          (xhr) => {\n            console.log((xhr.loaded / xhr.total) * 100 + '% loaded');\n          },\n          (error) => {\n            console.error('An error happened', error);\n          }\n        );\n      });\n\n      // Add a simple cube for debugging\n      const geometry = new THREE.BoxGeometry();\n      const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n      const cube = new THREE.Mesh(geometry, material);\n      cube.position.set(0, 0, -2);\n      scene.add(cube);\n\n      // Animation loop\n      const animate = () => {\n        requestAnimationFrame(animate);\n\n        // Rotate the object (optional)\n        // if (object) {\n        //   object.rotation.x += 0.01;\n        //   object.rotation.y += 0.01;\n        // }\n\n        renderer.render(scene, camera);\n      };\n      animate();\n\n      // Handle window resize\n      window.addEventListener('resize', () => {\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n      });\n    },\n  },\n};\n</script>\n\n<style>\n.scene-container {\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}