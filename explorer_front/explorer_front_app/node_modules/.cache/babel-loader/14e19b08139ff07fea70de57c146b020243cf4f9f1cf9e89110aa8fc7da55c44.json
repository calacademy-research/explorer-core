{"ast":null,"code":"import { ref } from 'vue';\nimport L from 'leaflet';\nimport markerImage from '@/assets/marker.png';\nimport 'leaflet-draw/dist/leaflet.draw.css';\nimport 'leaflet-draw/dist/leaflet.draw';\nexport default {\n  mounted() {\n    //const mapContainer = ref(null);\n\n    this.map = L.map(this.$refs.mapContainer.value).setView([-0.207259, -90.142578], 8); // Center coordinates of Hawaii, zoom level 8\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\n    this.addMarkers();\n    var drawnItems = new L.FeatureGroup();\n    this.map.addLayer(drawnItems);\n    var drawControl = new L.Control.Draw({\n      draw: {\n        polygon: true,\n        polyline: false,\n        rectangle: false,\n        circle: false,\n        marker: false\n      },\n      edit: {\n        featureGroup: drawnItems,\n        edit: false,\n        remove: false\n      }\n    });\n    map.addControl(drawControl);\n    map.on(L.Draw.Event.CREATED, function (event) {\n      var layer = event.layer;\n      drawnItems.addLayer(layer);\n\n      // Do something with the drawn polygon, like getting its coordinates\n      var polygonCoordinates = layer.getLatLngs();\n      console.log(\"layer info\", layer);\n      var geoJSON = layer.toGeoJSON();\n      console.log(\"geoJSON: \", geoJSON);\n      console.log(JSON.stringify(geoJSON.geometry.coordinates));\n      console.log(polygonCoordinates);\n      console.log(JSON.stringify(polygonCoordinates));\n      layer.bindPopup('<p>Island <br>' + JSON.stringify(geoJSON) + '</p>');\n    });\n\n    //return { mapContainer };\n  },\n  methods: {\n    addMarkers() {\n      var myIcon = L.icon({\n        //iconUrl: require('./src/assets/marker.png'),\n        iconUrl: markerImage\n        //iconSize: [38, 95],\n        //iconAnchor: [22, 94],\n        //popupAnchor: [-3, -76],\n        //shadowUrl: ,\n        //shadowSize: [68, 95],\n        //shadowAnchor: [22, 94]\n      });\n      this.markers = [L.marker([-0.0358333333, -91.3761111111], {\n        icon: myIcon\n      }).bindPopup('turtle').addTo(this.map), L.marker([-1.3541666667, -89.6598611111], {\n        icon: myIcon\n      }).bindPopup('iguana').addTo(this.map)];\n      this.setupMarkerClickEvents();\n    },\n    setupMarkerClickEvents() {\n      this.markers.forEach(marker => {\n        marker.on('click', () => {\n          this.openPopup(marker);\n        });\n      });\n    },\n    openPopup(marker) {\n      this.popupURL = marker.getPopup().getContent();\n      this.showPopup = true;\n    }\n  },\n  data() {\n    return {\n      map: null,\n      markers: [],\n      showPopup: false,\n      popupURL: ''\n    };\n  }\n};","map":{"version":3,"names":["ref","L","markerImage","mounted","map","$refs","mapContainer","value","setView","tileLayer","addTo","addMarkers","drawnItems","FeatureGroup","addLayer","drawControl","Control","Draw","draw","polygon","polyline","rectangle","circle","marker","edit","featureGroup","remove","addControl","on","Event","CREATED","event","layer","polygonCoordinates","getLatLngs","console","log","geoJSON","toGeoJSON","JSON","stringify","geometry","coordinates","bindPopup","methods","myIcon","icon","iconUrl","markers","setupMarkerClickEvents","forEach","openPopup","popupURL","getPopup","getContent","showPopup","data"],"sources":["/home/zhu/Documents/github/explorer_front/explorer_front_app/src/components/GalapagosMap.vue"],"sourcesContent":["<template>\n  <div ref=\"mapContainer\" class=\"map-container\"></div>\n</template>\n\n\n\n\n<script>\nimport { ref } from 'vue';\nimport L from 'leaflet';\n\nimport markerImage from '@/assets/marker.png'\n\nimport 'leaflet-draw/dist/leaflet.draw.css';\nimport 'leaflet-draw/dist/leaflet.draw';\n\nexport default {\n mounted(){\n    //const mapContainer = ref(null);\n\n      this.map = L.map(this.$refs.mapContainer.value).setView([-0.207259, -90.142578], 8); // Center coordinates of Hawaii, zoom level 8\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\n      \n      this.addMarkers();\n\n      var drawnItems = new L.FeatureGroup();\n      this.map.addLayer(drawnItems);\n\n      var drawControl = new L.Control.Draw({\n        draw: {\n          polygon: true,\n          polyline: false,\n          rectangle: false,\n          circle: false,\n          marker: false,\n        },\n        edit: {\n          featureGroup: drawnItems,\n          edit: false,\n          remove: false,\n        },\n      });\n      map.addControl(drawControl);\n\n      map.on(L.Draw.Event.CREATED, function (event) {\n      var layer = event.layer;\n      drawnItems.addLayer(layer);\n\n      // Do something with the drawn polygon, like getting its coordinates\n      var polygonCoordinates = layer.getLatLngs();\n      console.log(\"layer info\", layer);\n      var geoJSON = layer.toGeoJSON();\n      console.log(\"geoJSON: \", geoJSON);\n      console.log(JSON.stringify(geoJSON.geometry.coordinates));\n      console.log(polygonCoordinates);\n      console.log(JSON.stringify(polygonCoordinates));\n\n      layer.bindPopup('<p>Island <br>'+JSON.stringify(geoJSON)+'</p>');\n      });\n\n\n    //return { mapContainer };\n  },\n  methods: {\n    addMarkers(){\n\n       var myIcon = L.icon({\n      //iconUrl: require('./src/assets/marker.png'),\n      iconUrl: markerImage,\n      //iconSize: [38, 95],\n      //iconAnchor: [22, 94],\n      //popupAnchor: [-3, -76],\n      //shadowUrl: ,\n      //shadowSize: [68, 95],\n      //shadowAnchor: [22, 94]\n      });\n\n      this.markers = [\n        L.marker([-0.0358333333, -91.3761111111], {icon: myIcon}).bindPopup('turtle').addTo(this.map),\n        L.marker([-1.3541666667,  -89.6598611111], {icon: myIcon}).bindPopup('iguana').addTo(this.map)\n      ];\n\n      this.setupMarkerClickEvents();\n   },\n\n    setupMarkerClickEvents(){\n      \n      this.markers.forEach(marker => {\n        marker.on('click', () =>{\n          this.openPopup(marker);\n        });\n      });\n   },\n\n   openPopup(marker){\n      this.popupURL = marker.getPopup().getContent();\n      this.showPopup = true;\n   },\n\n   },\n   data(){\n\n    return{\n      map: null,\n      markers: [],\n      showPopup: false,\n      popupURL: '',\n    };\n\n   },\n};\n\n</script>\n\n<style scoped>\n.map-container {\n  width: 96%;\n  height: 1000px; /* Set the height of your map container */\n}\n</style>\n"],"mappings":"AAQA,SAASA,GAAE,QAAS,KAAK;AACzB,OAAOC,CAAA,MAAO,SAAS;AAEvB,OAAOC,WAAU,MAAO,qBAAoB;AAE5C,OAAO,oCAAoC;AAC3C,OAAO,gCAAgC;AAEvC,eAAe;EACdC,OAAOA,CAAA,EAAE;IACN;;IAEE,IAAI,CAACC,GAAE,GAAIH,CAAC,CAACG,GAAG,CAAC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,KAAK,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,EAAE;IACrFP,CAAC,CAACQ,SAAS,CAAC,oDAAoD,CAAC,CAACC,KAAK,CAACN,GAAG,CAAC;IAE5E,IAAI,CAACO,UAAU,CAAC,CAAC;IAEjB,IAAIC,UAAS,GAAI,IAAIX,CAAC,CAACY,YAAY,CAAC,CAAC;IACrC,IAAI,CAACT,GAAG,CAACU,QAAQ,CAACF,UAAU,CAAC;IAE7B,IAAIG,WAAU,GAAI,IAAId,CAAC,CAACe,OAAO,CAACC,IAAI,CAAC;MACnCC,IAAI,EAAE;QACJC,OAAO,EAAE,IAAI;QACbC,QAAQ,EAAE,KAAK;QACfC,SAAS,EAAE,KAAK;QAChBC,MAAM,EAAE,KAAK;QACbC,MAAM,EAAE;MACV,CAAC;MACDC,IAAI,EAAE;QACJC,YAAY,EAAEb,UAAU;QACxBY,IAAI,EAAE,KAAK;QACXE,MAAM,EAAE;MACV;IACF,CAAC,CAAC;IACFtB,GAAG,CAACuB,UAAU,CAACZ,WAAW,CAAC;IAE3BX,GAAG,CAACwB,EAAE,CAAC3B,CAAC,CAACgB,IAAI,CAACY,KAAK,CAACC,OAAO,EAAE,UAAUC,KAAK,EAAE;MAC9C,IAAIC,KAAI,GAAID,KAAK,CAACC,KAAK;MACvBpB,UAAU,CAACE,QAAQ,CAACkB,KAAK,CAAC;;MAE1B;MACA,IAAIC,kBAAiB,GAAID,KAAK,CAACE,UAAU,CAAC,CAAC;MAC3CC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEJ,KAAK,CAAC;MAChC,IAAIK,OAAM,GAAIL,KAAK,CAACM,SAAS,CAAC,CAAC;MAC/BH,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEC,OAAO,CAAC;MACjCF,OAAO,CAACC,GAAG,CAACG,IAAI,CAACC,SAAS,CAACH,OAAO,CAACI,QAAQ,CAACC,WAAW,CAAC,CAAC;MACzDP,OAAO,CAACC,GAAG,CAACH,kBAAkB,CAAC;MAC/BE,OAAO,CAACC,GAAG,CAACG,IAAI,CAACC,SAAS,CAACP,kBAAkB,CAAC,CAAC;MAE/CD,KAAK,CAACW,SAAS,CAAC,gBAAgB,GAACJ,IAAI,CAACC,SAAS,CAACH,OAAO,CAAC,GAAC,MAAM,CAAC;IAChE,CAAC,CAAC;;IAGJ;EACF,CAAC;EACDO,OAAO,EAAE;IACPjC,UAAUA,CAAA,EAAE;MAET,IAAIkC,MAAK,GAAI5C,CAAC,CAAC6C,IAAI,CAAC;QACrB;QACAC,OAAO,EAAE7C;QACT;QACA;QACA;QACA;QACA;QACA;MACA,CAAC,CAAC;MAEF,IAAI,CAAC8C,OAAM,GAAI,CACb/C,CAAC,CAACsB,MAAM,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC,aAAa,CAAC,EAAE;QAACuB,IAAI,EAAED;MAAM,CAAC,CAAC,CAACF,SAAS,CAAC,QAAQ,CAAC,CAACjC,KAAK,CAAC,IAAI,CAACN,GAAG,CAAC,EAC7FH,CAAC,CAACsB,MAAM,CAAC,CAAC,CAAC,YAAY,EAAG,CAAC,aAAa,CAAC,EAAE;QAACuB,IAAI,EAAED;MAAM,CAAC,CAAC,CAACF,SAAS,CAAC,QAAQ,CAAC,CAACjC,KAAK,CAAC,IAAI,CAACN,GAAG,EAC9F;MAED,IAAI,CAAC6C,sBAAsB,CAAC,CAAC;IAChC,CAAC;IAEAA,sBAAsBA,CAAA,EAAE;MAEtB,IAAI,CAACD,OAAO,CAACE,OAAO,CAAC3B,MAAK,IAAK;QAC7BA,MAAM,CAACK,EAAE,CAAC,OAAO,EAAE,MAAK;UACtB,IAAI,CAACuB,SAAS,CAAC5B,MAAM,CAAC;QACxB,CAAC,CAAC;MACJ,CAAC,CAAC;IACL,CAAC;IAED4B,SAASA,CAAC5B,MAAM,EAAC;MACd,IAAI,CAAC6B,QAAO,GAAI7B,MAAM,CAAC8B,QAAQ,CAAC,CAAC,CAACC,UAAU,CAAC,CAAC;MAC9C,IAAI,CAACC,SAAQ,GAAI,IAAI;IACxB;EAEA,CAAC;EACDC,IAAIA,CAAA,EAAE;IAEL,OAAM;MACJpD,GAAG,EAAE,IAAI;MACT4C,OAAO,EAAE,EAAE;MACXO,SAAS,EAAE,KAAK;MAChBH,QAAQ,EAAE;IACZ,CAAC;EAEF;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}