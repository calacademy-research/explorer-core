{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport * as THREE from 'three';\nimport { PLYLoader } from 'three/examples/jsm/loaders/PLYLoader.js';\nimport { TextureLoader } from 'three/src/loaders/TextureLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nexport default {\n  __name: 'ThreeJSRenderer',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const container = ref(null);\n    onMounted(() => {\n      if (!container.value) {\n        console.error('Container element not found');\n        return;\n      }\n      const scene = new THREE.Scene();\n      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n      const renderer = new THREE.WebGLRenderer();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      container.value.appendChild(renderer.domElement);\n      const plyLoader = new PLYLoader();\n      // plyLoader.load('../../public/assets/skullbottom.ply', (geometry) => {\n      //   const textureLoader = new TextureLoader();\n      //   textureLoader.load('../../public/assets/skullbottom.jpg', (texture) => {\n      //     const material = new THREE.MeshBasicMaterial({ map: texture });\n      //     const mesh = new THREE.Mesh(geometry, material);\n      //     scene.add(mesh);\n\n      //     camera.position.z = 5;\n\n      //     const controls = new OrbitControls(camera, renderer.domElement);\n      //     controls.enableDamping = true;\n      //     controls.dampingFactor = 0.25;\n      //     controls.enableZoom = true;\n\n      //     const animate = () => {\n      //       requestAnimationFrame(animate);\n      //       controls.update();\n      //       mesh.rotation.y += 0.01;\n      //       renderer.render(scene, camera);\n      //     };\n      //     animate();\n      //   });\n      plyLoader.load('path/to/model.ply', geometry => {\n        const material = new THREE.MeshBasicMaterial({\n          color: 0xff0000\n        });\n        const mesh = new THREE.Mesh(geometry, material);\n        scene.add(mesh);\n        camera.position.z = 5;\n        const animate = () => {\n          requestAnimationFrame(animate);\n          controls.update();\n          mesh.rotation.y += 0.01;\n          renderer.render(scene, camera);\n        };\n        animate();\n      });\n      window.addEventListener('resize', () => {\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n      });\n      return () => {\n        window.removeEventListener('resize', () => {\n          camera.aspect = window.innerWidth / window.innerHeight;\n          camera.updateProjectionMatrix();\n          renderer.setSize(window.innerWidth, window.innerHeight);\n        });\n      };\n    });\n    const __returned__ = {\n      container,\n      ref,\n      onMounted,\n      get THREE() {\n        return THREE;\n      },\n      get PLYLoader() {\n        return PLYLoader;\n      },\n      get TextureLoader() {\n        return TextureLoader;\n      },\n      get OrbitControls() {\n        return OrbitControls;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","THREE","PLYLoader","TextureLoader","OrbitControls","container","value","console","error","scene","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","renderer","WebGLRenderer","setSize","appendChild","domElement","plyLoader","load","geometry","material","MeshBasicMaterial","color","mesh","Mesh","add","position","z","animate","requestAnimationFrame","controls","update","rotation","y","render","addEventListener","aspect","updateProjectionMatrix","removeEventListener"],"sources":["/home/zhu/Documents/github/explorer_front/explorer_front_app/src/components/ThreeJSRenderer.vue"],"sourcesContent":["<template>\n  <div ref=\"container\"></div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport * as THREE from 'three';\nimport { PLYLoader } from 'three/examples/jsm/loaders/PLYLoader.js';\nimport { TextureLoader } from 'three/src/loaders/TextureLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nconst container = ref(null);\n\nonMounted(() => {\n  if (!container.value) {\n    console.error('Container element not found');\n    return;\n  }\n\n  const scene = new THREE.Scene();\n  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n  const renderer = new THREE.WebGLRenderer();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  container.value.appendChild(renderer.domElement);\n\n  const plyLoader = new PLYLoader();\n  // plyLoader.load('../../public/assets/skullbottom.ply', (geometry) => {\n  //   const textureLoader = new TextureLoader();\n  //   textureLoader.load('../../public/assets/skullbottom.jpg', (texture) => {\n  //     const material = new THREE.MeshBasicMaterial({ map: texture });\n  //     const mesh = new THREE.Mesh(geometry, material);\n  //     scene.add(mesh);\n\n  //     camera.position.z = 5;\n\n  //     const controls = new OrbitControls(camera, renderer.domElement);\n  //     controls.enableDamping = true;\n  //     controls.dampingFactor = 0.25;\n  //     controls.enableZoom = true;\n\n  //     const animate = () => {\n  //       requestAnimationFrame(animate);\n  //       controls.update();\n  //       mesh.rotation.y += 0.01;\n  //       renderer.render(scene, camera);\n  //     };\n  //     animate();\n  //   });\n  plyLoader.load('path/to/model.ply', (geometry) => {\n    const material = new THREE.MeshBasicMaterial({ color: 0xff0000 });\n    const mesh = new THREE.Mesh(geometry, material);\n    scene.add(mesh);\n\n    camera.position.z = 5;\n\n    const animate = () => {\n      requestAnimationFrame(animate);\n      controls.update();\n      mesh.rotation.y += 0.01;\n      renderer.render(scene, camera);\n    };\n    animate();\n  });\n\n  window.addEventListener('resize', () => {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n  });\n\n  return () => {\n    window.removeEventListener('resize', () => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    });\n  };\n});\n</script>\n\n<style>\n  #container {\n    width: 100%;\n    height: 100vh;\n    overflow: hidden;\n  }\n</style>"],"mappings":"AAKA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,SAAS,QAAQ,yCAAyC;AACnE,SAASC,aAAa,QAAQ,oCAAoC;AAClE,SAASC,aAAa,QAAQ,8CAA8C;;;;;;;IAE5E,MAAMC,SAAS,GAAGN,GAAG,CAAC,IAAI,CAAC;IAE3BC,SAAS,CAAC,MAAM;MACd,IAAI,CAACK,SAAS,CAACC,KAAK,EAAE;QACpBC,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAC;QAC5C;MACF;MAEA,MAAMC,KAAK,GAAG,IAAIR,KAAK,CAACS,KAAK,CAAC,CAAC;MAC/B,MAAMC,MAAM,GAAG,IAAIV,KAAK,CAACW,iBAAiB,CAAC,EAAE,EAAEC,MAAM,CAACC,UAAU,GAAGD,MAAM,CAACE,WAAW,EAAE,GAAG,EAAE,IAAI,CAAC;MACjG,MAAMC,QAAQ,GAAG,IAAIf,KAAK,CAACgB,aAAa,CAAC,CAAC;MAC1CD,QAAQ,CAACE,OAAO,CAACL,MAAM,CAACC,UAAU,EAAED,MAAM,CAACE,WAAW,CAAC;MACvDV,SAAS,CAACC,KAAK,CAACa,WAAW,CAACH,QAAQ,CAACI,UAAU,CAAC;MAEhD,MAAMC,SAAS,GAAG,IAAInB,SAAS,CAAC,CAAC;MACjC;MACA;MACA;MACA;MACA;MACA;;MAEA;;MAEA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAmB,SAAS,CAACC,IAAI,CAAC,mBAAmB,EAAGC,QAAQ,IAAK;QAChD,MAAMC,QAAQ,GAAG,IAAIvB,KAAK,CAACwB,iBAAiB,CAAC;UAAEC,KAAK,EAAE;QAAS,CAAC,CAAC;QACjE,MAAMC,IAAI,GAAG,IAAI1B,KAAK,CAAC2B,IAAI,CAACL,QAAQ,EAAEC,QAAQ,CAAC;QAC/Cf,KAAK,CAACoB,GAAG,CAACF,IAAI,CAAC;QAEfhB,MAAM,CAACmB,QAAQ,CAACC,CAAC,GAAG,CAAC;QAErB,MAAMC,OAAO,GAAGA,CAAA,KAAM;UACpBC,qBAAqB,CAACD,OAAO,CAAC;UAC9BE,QAAQ,CAACC,MAAM,CAAC,CAAC;UACjBR,IAAI,CAACS,QAAQ,CAACC,CAAC,IAAI,IAAI;UACvBrB,QAAQ,CAACsB,MAAM,CAAC7B,KAAK,EAAEE,MAAM,CAAC;QAChC,CAAC;QACDqB,OAAO,CAAC,CAAC;MACX,CAAC,CAAC;MAEFnB,MAAM,CAAC0B,gBAAgB,CAAC,QAAQ,EAAE,MAAM;QACtC5B,MAAM,CAAC6B,MAAM,GAAG3B,MAAM,CAACC,UAAU,GAAGD,MAAM,CAACE,WAAW;QACtDJ,MAAM,CAAC8B,sBAAsB,CAAC,CAAC;QAC/BzB,QAAQ,CAACE,OAAO,CAACL,MAAM,CAACC,UAAU,EAAED,MAAM,CAACE,WAAW,CAAC;MACzD,CAAC,CAAC;MAEF,OAAO,MAAM;QACXF,MAAM,CAAC6B,mBAAmB,CAAC,QAAQ,EAAE,MAAM;UACzC/B,MAAM,CAAC6B,MAAM,GAAG3B,MAAM,CAACC,UAAU,GAAGD,MAAM,CAACE,WAAW;UACtDJ,MAAM,CAAC8B,sBAAsB,CAAC,CAAC;UAC/BzB,QAAQ,CAACE,OAAO,CAACL,MAAM,CAACC,UAAU,EAAED,MAAM,CAACE,WAAW,CAAC;QACzD,CAAC,CAAC;MACJ,CAAC;IACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}