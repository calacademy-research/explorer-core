{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.array.push.js\");\nvar isNumeric = require('fast-isnumeric');\nvar Lib = require('../../lib');\nvar BADNUM = require('../../constants/numerical').BADNUM;\nvar geoJsonUtils = require('../../lib/geojson_utils');\nvar Colorscale = require('../../components/colorscale');\nvar Drawing = require('../../components/drawing');\nvar makeBubbleSizeFn = require('../scatter/make_bubble_size_func');\nvar subTypes = require('../scatter/subtypes');\nvar convertTextOpts = require('../../plots/mapbox/convert_text_opts');\nvar appendArrayPointValue = require('../../components/fx/helpers').appendArrayPointValue;\nvar NEWLINES = require('../../lib/svg_text_utils').NEWLINES;\nvar BR_TAG_ALL = require('../../lib/svg_text_utils').BR_TAG_ALL;\nmodule.exports = function convert(gd, calcTrace) {\n  var trace = calcTrace[0].trace;\n  var isVisible = trace.visible === true && trace._length !== 0;\n  var hasFill = trace.fill !== 'none';\n  var hasLines = subTypes.hasLines(trace);\n  var hasMarkers = subTypes.hasMarkers(trace);\n  var hasText = subTypes.hasText(trace);\n  var hasCircles = hasMarkers && trace.marker.symbol === 'circle';\n  var hasSymbols = hasMarkers && trace.marker.symbol !== 'circle';\n  var hasCluster = trace.cluster && trace.cluster.enabled;\n  var fill = initContainer('fill');\n  var line = initContainer('line');\n  var circle = initContainer('circle');\n  var symbol = initContainer('symbol');\n  var opts = {\n    fill: fill,\n    line: line,\n    circle: circle,\n    symbol: symbol\n  };\n\n  // early return if not visible or placeholder\n  if (!isVisible) return opts;\n\n  // fill layer and line layer use the same coords\n  var lineCoords;\n  if (hasFill || hasLines) {\n    lineCoords = geoJsonUtils.calcTraceToLineCoords(calcTrace);\n  }\n  if (hasFill) {\n    fill.geojson = geoJsonUtils.makePolygon(lineCoords);\n    fill.layout.visibility = 'visible';\n    Lib.extendFlat(fill.paint, {\n      'fill-color': trace.fillcolor\n    });\n  }\n  if (hasLines) {\n    line.geojson = geoJsonUtils.makeLine(lineCoords);\n    line.layout.visibility = 'visible';\n    Lib.extendFlat(line.paint, {\n      'line-width': trace.line.width,\n      'line-color': trace.line.color,\n      'line-opacity': trace.opacity\n    });\n\n    // TODO convert line.dash into line-dasharray\n  }\n  if (hasCircles) {\n    var circleOpts = makeCircleOpts(calcTrace);\n    circle.geojson = circleOpts.geojson;\n    circle.layout.visibility = 'visible';\n    if (hasCluster) {\n      circle.filter = ['!', ['has', 'point_count']];\n      opts.cluster = {\n        type: 'circle',\n        filter: ['has', 'point_count'],\n        layout: {\n          visibility: 'visible'\n        },\n        paint: {\n          'circle-color': arrayifyAttribute(trace.cluster.color, trace.cluster.step),\n          'circle-radius': arrayifyAttribute(trace.cluster.size, trace.cluster.step),\n          'circle-opacity': arrayifyAttribute(trace.cluster.opacity, trace.cluster.step)\n        }\n      };\n      opts.clusterCount = {\n        type: 'symbol',\n        filter: ['has', 'point_count'],\n        paint: {},\n        layout: {\n          'text-field': '{point_count_abbreviated}',\n          'text-font': ['Open Sans Regular', 'Arial Unicode MS Regular'],\n          'text-size': 12\n        }\n      };\n    }\n    Lib.extendFlat(circle.paint, {\n      'circle-color': circleOpts.mcc,\n      'circle-radius': circleOpts.mrc,\n      'circle-opacity': circleOpts.mo\n    });\n  }\n  if (hasCircles && hasCluster) {\n    circle.filter = ['!', ['has', 'point_count']];\n  }\n  if (hasSymbols || hasText) {\n    symbol.geojson = makeSymbolGeoJSON(calcTrace, gd);\n    Lib.extendFlat(symbol.layout, {\n      visibility: 'visible',\n      'icon-image': '{symbol}-15',\n      'text-field': '{text}'\n    });\n    if (hasSymbols) {\n      Lib.extendFlat(symbol.layout, {\n        'icon-size': trace.marker.size / 10\n      });\n      if ('angle' in trace.marker && trace.marker.angle !== 'auto') {\n        Lib.extendFlat(symbol.layout, {\n          // unfortunately cant use {angle} do to this issue:\n          // https://github.com/mapbox/mapbox-gl-js/issues/873\n          'icon-rotate': {\n            type: 'identity',\n            property: 'angle'\n          },\n          'icon-rotation-alignment': 'map'\n        });\n      }\n      symbol.layout['icon-allow-overlap'] = trace.marker.allowoverlap;\n      Lib.extendFlat(symbol.paint, {\n        'icon-opacity': trace.opacity * trace.marker.opacity,\n        // TODO does not work ??\n        'icon-color': trace.marker.color\n      });\n    }\n    if (hasText) {\n      var iconSize = (trace.marker || {}).size;\n      var textOpts = convertTextOpts(trace.textposition, iconSize);\n\n      // all data-driven below !!\n\n      Lib.extendFlat(symbol.layout, {\n        'text-size': trace.textfont.size,\n        'text-anchor': textOpts.anchor,\n        'text-offset': textOpts.offset,\n        'text-font': trace.textfont.family.split(', ')\n      });\n      Lib.extendFlat(symbol.paint, {\n        'text-color': trace.textfont.color,\n        'text-opacity': trace.opacity\n      });\n    }\n  }\n  return opts;\n};\nfunction initContainer(type) {\n  return {\n    type: type,\n    geojson: geoJsonUtils.makeBlank(),\n    layout: {\n      visibility: 'none'\n    },\n    filter: null,\n    paint: {}\n  };\n}\nfunction makeCircleOpts(calcTrace) {\n  var trace = calcTrace[0].trace;\n  var marker = trace.marker;\n  var selectedpoints = trace.selectedpoints;\n  var arrayColor = Lib.isArrayOrTypedArray(marker.color);\n  var arraySize = Lib.isArrayOrTypedArray(marker.size);\n  var arrayOpacity = Lib.isArrayOrTypedArray(marker.opacity);\n  var i;\n  function addTraceOpacity(o) {\n    return trace.opacity * o;\n  }\n  function size2radius(s) {\n    return s / 2;\n  }\n  var colorFn;\n  if (arrayColor) {\n    if (Colorscale.hasColorscale(trace, 'marker')) {\n      colorFn = Colorscale.makeColorScaleFuncFromTrace(marker);\n    } else {\n      colorFn = Lib.identity;\n    }\n  }\n  var sizeFn;\n  if (arraySize) {\n    sizeFn = makeBubbleSizeFn(trace);\n  }\n  var opacityFn;\n  if (arrayOpacity) {\n    opacityFn = function (mo) {\n      var mo2 = isNumeric(mo) ? +Lib.constrain(mo, 0, 1) : 0;\n      return addTraceOpacity(mo2);\n    };\n  }\n  var features = [];\n  for (i = 0; i < calcTrace.length; i++) {\n    var calcPt = calcTrace[i];\n    var lonlat = calcPt.lonlat;\n    if (isBADNUM(lonlat)) continue;\n    var props = {};\n    if (colorFn) props.mcc = calcPt.mcc = colorFn(calcPt.mc);\n    if (sizeFn) props.mrc = calcPt.mrc = sizeFn(calcPt.ms);\n    if (opacityFn) props.mo = opacityFn(calcPt.mo);\n    if (selectedpoints) props.selected = calcPt.selected || 0;\n    features.push({\n      type: 'Feature',\n      id: i + 1,\n      geometry: {\n        type: 'Point',\n        coordinates: lonlat\n      },\n      properties: props\n    });\n  }\n  var fns;\n  if (selectedpoints) {\n    fns = Drawing.makeSelectedPointStyleFns(trace);\n    for (i = 0; i < features.length; i++) {\n      var d = features[i].properties;\n      if (fns.selectedOpacityFn) {\n        d.mo = addTraceOpacity(fns.selectedOpacityFn(d));\n      }\n      if (fns.selectedColorFn) {\n        d.mcc = fns.selectedColorFn(d);\n      }\n      if (fns.selectedSizeFn) {\n        d.mrc = fns.selectedSizeFn(d);\n      }\n    }\n  }\n  return {\n    geojson: {\n      type: 'FeatureCollection',\n      features: features\n    },\n    mcc: arrayColor || fns && fns.selectedColorFn ? {\n      type: 'identity',\n      property: 'mcc'\n    } : marker.color,\n    mrc: arraySize || fns && fns.selectedSizeFn ? {\n      type: 'identity',\n      property: 'mrc'\n    } : size2radius(marker.size),\n    mo: arrayOpacity || fns && fns.selectedOpacityFn ? {\n      type: 'identity',\n      property: 'mo'\n    } : addTraceOpacity(marker.opacity)\n  };\n}\nfunction makeSymbolGeoJSON(calcTrace, gd) {\n  var fullLayout = gd._fullLayout;\n  var trace = calcTrace[0].trace;\n  var marker = trace.marker || {};\n  var symbol = marker.symbol;\n  var angle = marker.angle;\n  var fillSymbol = symbol !== 'circle' ? getFillFunc(symbol) : blankFillFunc;\n  var fillAngle = angle !== 'auto' ? getFillFunc(angle, true) : blankFillFunc;\n  var fillText = subTypes.hasText(trace) ? getFillFunc(trace.text) : blankFillFunc;\n  var features = [];\n  for (var i = 0; i < calcTrace.length; i++) {\n    var calcPt = calcTrace[i];\n    if (isBADNUM(calcPt.lonlat)) continue;\n    var texttemplate = trace.texttemplate;\n    var text;\n    if (texttemplate) {\n      var tt = Array.isArray(texttemplate) ? texttemplate[i] || '' : texttemplate;\n      var labels = trace._module.formatLabels(calcPt, trace, fullLayout);\n      var pointValues = {};\n      appendArrayPointValue(pointValues, trace, calcPt.i);\n      var meta = trace._meta || {};\n      text = Lib.texttemplateString(tt, labels, fullLayout._d3locale, pointValues, calcPt, meta);\n    } else {\n      text = fillText(i);\n    }\n    if (text) {\n      text = text.replace(NEWLINES, '').replace(BR_TAG_ALL, '\\n');\n    }\n    features.push({\n      type: 'Feature',\n      geometry: {\n        type: 'Point',\n        coordinates: calcPt.lonlat\n      },\n      properties: {\n        symbol: fillSymbol(i),\n        angle: fillAngle(i),\n        text: text\n      }\n    });\n  }\n  return {\n    type: 'FeatureCollection',\n    features: features\n  };\n}\nfunction getFillFunc(attr, numeric) {\n  if (Lib.isArrayOrTypedArray(attr)) {\n    if (numeric) {\n      return function (i) {\n        return isNumeric(attr[i]) ? +attr[i] : 0;\n      };\n    }\n    return function (i) {\n      return attr[i];\n    };\n  } else if (attr) {\n    return function () {\n      return attr;\n    };\n  } else {\n    return blankFillFunc;\n  }\n}\nfunction blankFillFunc() {\n  return '';\n}\n\n// only need to check lon (OR lat)\nfunction isBADNUM(lonlat) {\n  return lonlat[0] === BADNUM;\n}\nfunction arrayifyAttribute(values, step) {\n  var newAttribute;\n  if (Lib.isArrayOrTypedArray(values) && Lib.isArrayOrTypedArray(step)) {\n    newAttribute = ['step', ['get', 'point_count'], values[0]];\n    for (var idx = 1; idx < values.length; idx++) {\n      newAttribute.push(step[idx - 1], values[idx]);\n    }\n  } else {\n    newAttribute = values;\n  }\n  return newAttribute;\n}","map":{"version":3,"names":["require","isNumeric","Lib","BADNUM","geoJsonUtils","Colorscale","Drawing","makeBubbleSizeFn","subTypes","convertTextOpts","appendArrayPointValue","NEWLINES","BR_TAG_ALL","module","exports","convert","gd","calcTrace","trace","isVisible","visible","_length","hasFill","fill","hasLines","hasMarkers","hasText","hasCircles","marker","symbol","hasSymbols","hasCluster","cluster","enabled","initContainer","line","circle","opts","lineCoords","calcTraceToLineCoords","geojson","makePolygon","layout","visibility","extendFlat","paint","fillcolor","makeLine","width","color","opacity","circleOpts","makeCircleOpts","filter","type","arrayifyAttribute","step","size","clusterCount","mcc","mrc","mo","makeSymbolGeoJSON","angle","property","allowoverlap","iconSize","textOpts","textposition","textfont","anchor","offset","family","split","makeBlank","selectedpoints","arrayColor","isArrayOrTypedArray","arraySize","arrayOpacity","i","addTraceOpacity","o","size2radius","s","colorFn","hasColorscale","makeColorScaleFuncFromTrace","identity","sizeFn","opacityFn","mo2","constrain","features","length","calcPt","lonlat","isBADNUM","props","mc","ms","selected","push","id","geometry","coordinates","properties","fns","makeSelectedPointStyleFns","d","selectedOpacityFn","selectedColorFn","selectedSizeFn","fullLayout","_fullLayout","fillSymbol","getFillFunc","blankFillFunc","fillAngle","fillText","text","texttemplate","tt","Array","isArray","labels","_module","formatLabels","pointValues","meta","_meta","texttemplateString","_d3locale","replace","attr","numeric","values","newAttribute","idx"],"sources":["/home/zhu/Documents/github/explorer_front/explorer_front_app/node_modules/plotly.js/src/traces/scattermapbox/convert.js"],"sourcesContent":["'use strict';\n\nvar isNumeric = require('fast-isnumeric');\n\nvar Lib = require('../../lib');\nvar BADNUM = require('../../constants/numerical').BADNUM;\nvar geoJsonUtils = require('../../lib/geojson_utils');\n\nvar Colorscale = require('../../components/colorscale');\nvar Drawing = require('../../components/drawing');\nvar makeBubbleSizeFn = require('../scatter/make_bubble_size_func');\nvar subTypes = require('../scatter/subtypes');\nvar convertTextOpts = require('../../plots/mapbox/convert_text_opts');\nvar appendArrayPointValue = require('../../components/fx/helpers').appendArrayPointValue;\n\nvar NEWLINES = require('../../lib/svg_text_utils').NEWLINES;\nvar BR_TAG_ALL = require('../../lib/svg_text_utils').BR_TAG_ALL;\n\nmodule.exports = function convert(gd, calcTrace) {\n    var trace = calcTrace[0].trace;\n\n    var isVisible = (trace.visible === true && trace._length !== 0);\n    var hasFill = (trace.fill !== 'none');\n    var hasLines = subTypes.hasLines(trace);\n    var hasMarkers = subTypes.hasMarkers(trace);\n    var hasText = subTypes.hasText(trace);\n    var hasCircles = (hasMarkers && trace.marker.symbol === 'circle');\n    var hasSymbols = (hasMarkers && trace.marker.symbol !== 'circle');\n    var hasCluster = trace.cluster && trace.cluster.enabled;\n\n    var fill = initContainer('fill');\n    var line = initContainer('line');\n    var circle = initContainer('circle');\n    var symbol = initContainer('symbol');\n\n    var opts = {\n        fill: fill,\n        line: line,\n        circle: circle,\n        symbol: symbol\n    };\n\n    // early return if not visible or placeholder\n    if(!isVisible) return opts;\n\n    // fill layer and line layer use the same coords\n    var lineCoords;\n    if(hasFill || hasLines) {\n        lineCoords = geoJsonUtils.calcTraceToLineCoords(calcTrace);\n    }\n\n    if(hasFill) {\n        fill.geojson = geoJsonUtils.makePolygon(lineCoords);\n        fill.layout.visibility = 'visible';\n\n        Lib.extendFlat(fill.paint, {\n            'fill-color': trace.fillcolor\n        });\n    }\n\n    if(hasLines) {\n        line.geojson = geoJsonUtils.makeLine(lineCoords);\n        line.layout.visibility = 'visible';\n\n        Lib.extendFlat(line.paint, {\n            'line-width': trace.line.width,\n            'line-color': trace.line.color,\n            'line-opacity': trace.opacity\n        });\n\n        // TODO convert line.dash into line-dasharray\n    }\n\n    if(hasCircles) {\n        var circleOpts = makeCircleOpts(calcTrace);\n        circle.geojson = circleOpts.geojson;\n        circle.layout.visibility = 'visible';\n        if(hasCluster) {\n            circle.filter = ['!', ['has', 'point_count']];\n            opts.cluster = {\n                type: 'circle',\n                filter: ['has', 'point_count'],\n                layout: {visibility: 'visible'},\n                paint: {\n                    'circle-color': arrayifyAttribute(trace.cluster.color, trace.cluster.step),\n                    'circle-radius': arrayifyAttribute(trace.cluster.size, trace.cluster.step),\n                    'circle-opacity': arrayifyAttribute(trace.cluster.opacity, trace.cluster.step),\n                },\n            };\n            opts.clusterCount = {\n                type: 'symbol',\n                filter: ['has', 'point_count'],\n                paint: {},\n                layout: {\n                    'text-field': '{point_count_abbreviated}',\n                    'text-font': ['Open Sans Regular', 'Arial Unicode MS Regular'],\n                    'text-size': 12\n                }\n            };\n        }\n\n        Lib.extendFlat(circle.paint, {\n            'circle-color': circleOpts.mcc,\n            'circle-radius': circleOpts.mrc,\n            'circle-opacity': circleOpts.mo\n        });\n    }\n\n    if(hasCircles && hasCluster) {\n        circle.filter = ['!', ['has', 'point_count']];\n    }\n\n    if(hasSymbols || hasText) {\n        symbol.geojson = makeSymbolGeoJSON(calcTrace, gd);\n\n        Lib.extendFlat(symbol.layout, {\n            visibility: 'visible',\n            'icon-image': '{symbol}-15',\n            'text-field': '{text}'\n        });\n\n        if(hasSymbols) {\n            Lib.extendFlat(symbol.layout, {\n                'icon-size': trace.marker.size / 10\n            });\n\n            if('angle' in trace.marker && trace.marker.angle !== 'auto') {\n                Lib.extendFlat(symbol.layout, {\n                // unfortunately cant use {angle} do to this issue:\n                // https://github.com/mapbox/mapbox-gl-js/issues/873\n                    'icon-rotate': {\n                        type: 'identity', property: 'angle'\n                    },\n                    'icon-rotation-alignment': 'map'\n                });\n            }\n\n            symbol.layout['icon-allow-overlap'] = trace.marker.allowoverlap;\n\n            Lib.extendFlat(symbol.paint, {\n                'icon-opacity': trace.opacity * trace.marker.opacity,\n\n                // TODO does not work ??\n                'icon-color': trace.marker.color\n            });\n        }\n\n        if(hasText) {\n            var iconSize = (trace.marker || {}).size;\n            var textOpts = convertTextOpts(trace.textposition, iconSize);\n\n            // all data-driven below !!\n\n            Lib.extendFlat(symbol.layout, {\n                'text-size': trace.textfont.size,\n                'text-anchor': textOpts.anchor,\n                'text-offset': textOpts.offset,\n                'text-font': trace.textfont.family.split(', '),\n            });\n\n            Lib.extendFlat(symbol.paint, {\n                'text-color': trace.textfont.color,\n                'text-opacity': trace.opacity\n            });\n        }\n    }\n\n    return opts;\n};\n\nfunction initContainer(type) {\n    return {\n        type: type,\n        geojson: geoJsonUtils.makeBlank(),\n        layout: { visibility: 'none' },\n        filter: null,\n        paint: {}\n    };\n}\n\nfunction makeCircleOpts(calcTrace) {\n    var trace = calcTrace[0].trace;\n    var marker = trace.marker;\n    var selectedpoints = trace.selectedpoints;\n    var arrayColor = Lib.isArrayOrTypedArray(marker.color);\n    var arraySize = Lib.isArrayOrTypedArray(marker.size);\n    var arrayOpacity = Lib.isArrayOrTypedArray(marker.opacity);\n    var i;\n\n    function addTraceOpacity(o) { return trace.opacity * o; }\n\n    function size2radius(s) { return s / 2; }\n\n    var colorFn;\n    if(arrayColor) {\n        if(Colorscale.hasColorscale(trace, 'marker')) {\n            colorFn = Colorscale.makeColorScaleFuncFromTrace(marker);\n        } else {\n            colorFn = Lib.identity;\n        }\n    }\n\n    var sizeFn;\n    if(arraySize) {\n        sizeFn = makeBubbleSizeFn(trace);\n    }\n\n    var opacityFn;\n    if(arrayOpacity) {\n        opacityFn = function(mo) {\n            var mo2 = isNumeric(mo) ? +Lib.constrain(mo, 0, 1) : 0;\n            return addTraceOpacity(mo2);\n        };\n    }\n\n    var features = [];\n    for(i = 0; i < calcTrace.length; i++) {\n        var calcPt = calcTrace[i];\n        var lonlat = calcPt.lonlat;\n\n        if(isBADNUM(lonlat)) continue;\n\n        var props = {};\n        if(colorFn) props.mcc = calcPt.mcc = colorFn(calcPt.mc);\n        if(sizeFn) props.mrc = calcPt.mrc = sizeFn(calcPt.ms);\n        if(opacityFn) props.mo = opacityFn(calcPt.mo);\n        if(selectedpoints) props.selected = calcPt.selected || 0;\n\n        features.push({\n            type: 'Feature',\n            id: i + 1,\n            geometry: { type: 'Point', coordinates: lonlat },\n            properties: props\n        });\n    }\n\n    var fns;\n    if(selectedpoints) {\n        fns = Drawing.makeSelectedPointStyleFns(trace);\n\n        for(i = 0; i < features.length; i++) {\n            var d = features[i].properties;\n\n            if(fns.selectedOpacityFn) {\n                d.mo = addTraceOpacity(fns.selectedOpacityFn(d));\n            }\n            if(fns.selectedColorFn) {\n                d.mcc = fns.selectedColorFn(d);\n            }\n            if(fns.selectedSizeFn) {\n                d.mrc = fns.selectedSizeFn(d);\n            }\n        }\n    }\n\n    return {\n        geojson: {type: 'FeatureCollection', features: features},\n        mcc: arrayColor || (fns && fns.selectedColorFn) ?\n            {type: 'identity', property: 'mcc'} :\n            marker.color,\n        mrc: arraySize || (fns && fns.selectedSizeFn) ?\n            {type: 'identity', property: 'mrc'} :\n            size2radius(marker.size),\n        mo: arrayOpacity || (fns && fns.selectedOpacityFn) ?\n            {type: 'identity', property: 'mo'} :\n            addTraceOpacity(marker.opacity)\n    };\n}\n\nfunction makeSymbolGeoJSON(calcTrace, gd) {\n    var fullLayout = gd._fullLayout;\n    var trace = calcTrace[0].trace;\n\n    var marker = trace.marker || {};\n    var symbol = marker.symbol;\n    var angle = marker.angle;\n\n    var fillSymbol = (symbol !== 'circle') ?\n        getFillFunc(symbol) :\n        blankFillFunc;\n\n    var fillAngle = (angle !== 'auto') ?\n        getFillFunc(angle, true) :\n        blankFillFunc;\n\n    var fillText = subTypes.hasText(trace) ?\n        getFillFunc(trace.text) :\n        blankFillFunc;\n\n\n    var features = [];\n\n    for(var i = 0; i < calcTrace.length; i++) {\n        var calcPt = calcTrace[i];\n\n        if(isBADNUM(calcPt.lonlat)) continue;\n\n        var texttemplate = trace.texttemplate;\n        var text;\n\n        if(texttemplate) {\n            var tt = Array.isArray(texttemplate) ? (texttemplate[i] || '') : texttemplate;\n            var labels = trace._module.formatLabels(calcPt, trace, fullLayout);\n            var pointValues = {};\n            appendArrayPointValue(pointValues, trace, calcPt.i);\n            var meta = trace._meta || {};\n            text = Lib.texttemplateString(tt, labels, fullLayout._d3locale, pointValues, calcPt, meta);\n        } else {\n            text = fillText(i);\n        }\n\n        if(text) {\n            text = text.replace(NEWLINES, '').replace(BR_TAG_ALL, '\\n');\n        }\n\n        features.push({\n            type: 'Feature',\n            geometry: {\n                type: 'Point',\n                coordinates: calcPt.lonlat\n            },\n            properties: {\n                symbol: fillSymbol(i),\n                angle: fillAngle(i),\n                text: text\n            }\n        });\n    }\n\n    return {\n        type: 'FeatureCollection',\n        features: features\n    };\n}\n\nfunction getFillFunc(attr, numeric) {\n    if(Lib.isArrayOrTypedArray(attr)) {\n        if(numeric) {\n            return function(i) { return isNumeric(attr[i]) ? +attr[i] : 0; };\n        }\n        return function(i) { return attr[i]; };\n    } else if(attr) {\n        return function() { return attr; };\n    } else {\n        return blankFillFunc;\n    }\n}\n\nfunction blankFillFunc() { return ''; }\n\n// only need to check lon (OR lat)\nfunction isBADNUM(lonlat) {\n    return lonlat[0] === BADNUM;\n}\n\nfunction arrayifyAttribute(values, step) {\n    var newAttribute;\n    if(Lib.isArrayOrTypedArray(values) && Lib.isArrayOrTypedArray(step)) {\n        newAttribute = ['step', ['get', 'point_count'], values[0]];\n\n        for(var idx = 1; idx < values.length; idx++) {\n            newAttribute.push(step[idx - 1], values[idx]);\n        }\n    } else {\n        newAttribute = values;\n    }\n    return newAttribute;\n}\n"],"mappings":"AAAA,YAAY;;AAACA,OAAA;AAEb,IAAIC,SAAS,GAAGD,OAAO,CAAC,gBAAgB,CAAC;AAEzC,IAAIE,GAAG,GAAGF,OAAO,CAAC,WAAW,CAAC;AAC9B,IAAIG,MAAM,GAAGH,OAAO,CAAC,2BAA2B,CAAC,CAACG,MAAM;AACxD,IAAIC,YAAY,GAAGJ,OAAO,CAAC,yBAAyB,CAAC;AAErD,IAAIK,UAAU,GAAGL,OAAO,CAAC,6BAA6B,CAAC;AACvD,IAAIM,OAAO,GAAGN,OAAO,CAAC,0BAA0B,CAAC;AACjD,IAAIO,gBAAgB,GAAGP,OAAO,CAAC,kCAAkC,CAAC;AAClE,IAAIQ,QAAQ,GAAGR,OAAO,CAAC,qBAAqB,CAAC;AAC7C,IAAIS,eAAe,GAAGT,OAAO,CAAC,sCAAsC,CAAC;AACrE,IAAIU,qBAAqB,GAAGV,OAAO,CAAC,6BAA6B,CAAC,CAACU,qBAAqB;AAExF,IAAIC,QAAQ,GAAGX,OAAO,CAAC,0BAA0B,CAAC,CAACW,QAAQ;AAC3D,IAAIC,UAAU,GAAGZ,OAAO,CAAC,0BAA0B,CAAC,CAACY,UAAU;AAE/DC,MAAM,CAACC,OAAO,GAAG,SAASC,OAAOA,CAACC,EAAE,EAAEC,SAAS,EAAE;EAC7C,IAAIC,KAAK,GAAGD,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK;EAE9B,IAAIC,SAAS,GAAID,KAAK,CAACE,OAAO,KAAK,IAAI,IAAIF,KAAK,CAACG,OAAO,KAAK,CAAE;EAC/D,IAAIC,OAAO,GAAIJ,KAAK,CAACK,IAAI,KAAK,MAAO;EACrC,IAAIC,QAAQ,GAAGhB,QAAQ,CAACgB,QAAQ,CAACN,KAAK,CAAC;EACvC,IAAIO,UAAU,GAAGjB,QAAQ,CAACiB,UAAU,CAACP,KAAK,CAAC;EAC3C,IAAIQ,OAAO,GAAGlB,QAAQ,CAACkB,OAAO,CAACR,KAAK,CAAC;EACrC,IAAIS,UAAU,GAAIF,UAAU,IAAIP,KAAK,CAACU,MAAM,CAACC,MAAM,KAAK,QAAS;EACjE,IAAIC,UAAU,GAAIL,UAAU,IAAIP,KAAK,CAACU,MAAM,CAACC,MAAM,KAAK,QAAS;EACjE,IAAIE,UAAU,GAAGb,KAAK,CAACc,OAAO,IAAId,KAAK,CAACc,OAAO,CAACC,OAAO;EAEvD,IAAIV,IAAI,GAAGW,aAAa,CAAC,MAAM,CAAC;EAChC,IAAIC,IAAI,GAAGD,aAAa,CAAC,MAAM,CAAC;EAChC,IAAIE,MAAM,GAAGF,aAAa,CAAC,QAAQ,CAAC;EACpC,IAAIL,MAAM,GAAGK,aAAa,CAAC,QAAQ,CAAC;EAEpC,IAAIG,IAAI,GAAG;IACPd,IAAI,EAAEA,IAAI;IACVY,IAAI,EAAEA,IAAI;IACVC,MAAM,EAAEA,MAAM;IACdP,MAAM,EAAEA;EACZ,CAAC;;EAED;EACA,IAAG,CAACV,SAAS,EAAE,OAAOkB,IAAI;;EAE1B;EACA,IAAIC,UAAU;EACd,IAAGhB,OAAO,IAAIE,QAAQ,EAAE;IACpBc,UAAU,GAAGlC,YAAY,CAACmC,qBAAqB,CAACtB,SAAS,CAAC;EAC9D;EAEA,IAAGK,OAAO,EAAE;IACRC,IAAI,CAACiB,OAAO,GAAGpC,YAAY,CAACqC,WAAW,CAACH,UAAU,CAAC;IACnDf,IAAI,CAACmB,MAAM,CAACC,UAAU,GAAG,SAAS;IAElCzC,GAAG,CAAC0C,UAAU,CAACrB,IAAI,CAACsB,KAAK,EAAE;MACvB,YAAY,EAAE3B,KAAK,CAAC4B;IACxB,CAAC,CAAC;EACN;EAEA,IAAGtB,QAAQ,EAAE;IACTW,IAAI,CAACK,OAAO,GAAGpC,YAAY,CAAC2C,QAAQ,CAACT,UAAU,CAAC;IAChDH,IAAI,CAACO,MAAM,CAACC,UAAU,GAAG,SAAS;IAElCzC,GAAG,CAAC0C,UAAU,CAACT,IAAI,CAACU,KAAK,EAAE;MACvB,YAAY,EAAE3B,KAAK,CAACiB,IAAI,CAACa,KAAK;MAC9B,YAAY,EAAE9B,KAAK,CAACiB,IAAI,CAACc,KAAK;MAC9B,cAAc,EAAE/B,KAAK,CAACgC;IAC1B,CAAC,CAAC;;IAEF;EACJ;EAEA,IAAGvB,UAAU,EAAE;IACX,IAAIwB,UAAU,GAAGC,cAAc,CAACnC,SAAS,CAAC;IAC1CmB,MAAM,CAACI,OAAO,GAAGW,UAAU,CAACX,OAAO;IACnCJ,MAAM,CAACM,MAAM,CAACC,UAAU,GAAG,SAAS;IACpC,IAAGZ,UAAU,EAAE;MACXK,MAAM,CAACiB,MAAM,GAAG,CAAC,GAAG,EAAE,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;MAC7ChB,IAAI,CAACL,OAAO,GAAG;QACXsB,IAAI,EAAE,QAAQ;QACdD,MAAM,EAAE,CAAC,KAAK,EAAE,aAAa,CAAC;QAC9BX,MAAM,EAAE;UAACC,UAAU,EAAE;QAAS,CAAC;QAC/BE,KAAK,EAAE;UACH,cAAc,EAAEU,iBAAiB,CAACrC,KAAK,CAACc,OAAO,CAACiB,KAAK,EAAE/B,KAAK,CAACc,OAAO,CAACwB,IAAI,CAAC;UAC1E,eAAe,EAAED,iBAAiB,CAACrC,KAAK,CAACc,OAAO,CAACyB,IAAI,EAAEvC,KAAK,CAACc,OAAO,CAACwB,IAAI,CAAC;UAC1E,gBAAgB,EAAED,iBAAiB,CAACrC,KAAK,CAACc,OAAO,CAACkB,OAAO,EAAEhC,KAAK,CAACc,OAAO,CAACwB,IAAI;QACjF;MACJ,CAAC;MACDnB,IAAI,CAACqB,YAAY,GAAG;QAChBJ,IAAI,EAAE,QAAQ;QACdD,MAAM,EAAE,CAAC,KAAK,EAAE,aAAa,CAAC;QAC9BR,KAAK,EAAE,CAAC,CAAC;QACTH,MAAM,EAAE;UACJ,YAAY,EAAE,2BAA2B;UACzC,WAAW,EAAE,CAAC,mBAAmB,EAAE,0BAA0B,CAAC;UAC9D,WAAW,EAAE;QACjB;MACJ,CAAC;IACL;IAEAxC,GAAG,CAAC0C,UAAU,CAACR,MAAM,CAACS,KAAK,EAAE;MACzB,cAAc,EAAEM,UAAU,CAACQ,GAAG;MAC9B,eAAe,EAAER,UAAU,CAACS,GAAG;MAC/B,gBAAgB,EAAET,UAAU,CAACU;IACjC,CAAC,CAAC;EACN;EAEA,IAAGlC,UAAU,IAAII,UAAU,EAAE;IACzBK,MAAM,CAACiB,MAAM,GAAG,CAAC,GAAG,EAAE,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;EACjD;EAEA,IAAGvB,UAAU,IAAIJ,OAAO,EAAE;IACtBG,MAAM,CAACW,OAAO,GAAGsB,iBAAiB,CAAC7C,SAAS,EAAED,EAAE,CAAC;IAEjDd,GAAG,CAAC0C,UAAU,CAACf,MAAM,CAACa,MAAM,EAAE;MAC1BC,UAAU,EAAE,SAAS;MACrB,YAAY,EAAE,aAAa;MAC3B,YAAY,EAAE;IAClB,CAAC,CAAC;IAEF,IAAGb,UAAU,EAAE;MACX5B,GAAG,CAAC0C,UAAU,CAACf,MAAM,CAACa,MAAM,EAAE;QAC1B,WAAW,EAAExB,KAAK,CAACU,MAAM,CAAC6B,IAAI,GAAG;MACrC,CAAC,CAAC;MAEF,IAAG,OAAO,IAAIvC,KAAK,CAACU,MAAM,IAAIV,KAAK,CAACU,MAAM,CAACmC,KAAK,KAAK,MAAM,EAAE;QACzD7D,GAAG,CAAC0C,UAAU,CAACf,MAAM,CAACa,MAAM,EAAE;UAC9B;UACA;UACI,aAAa,EAAE;YACXY,IAAI,EAAE,UAAU;YAAEU,QAAQ,EAAE;UAChC,CAAC;UACD,yBAAyB,EAAE;QAC/B,CAAC,CAAC;MACN;MAEAnC,MAAM,CAACa,MAAM,CAAC,oBAAoB,CAAC,GAAGxB,KAAK,CAACU,MAAM,CAACqC,YAAY;MAE/D/D,GAAG,CAAC0C,UAAU,CAACf,MAAM,CAACgB,KAAK,EAAE;QACzB,cAAc,EAAE3B,KAAK,CAACgC,OAAO,GAAGhC,KAAK,CAACU,MAAM,CAACsB,OAAO;QAEpD;QACA,YAAY,EAAEhC,KAAK,CAACU,MAAM,CAACqB;MAC/B,CAAC,CAAC;IACN;IAEA,IAAGvB,OAAO,EAAE;MACR,IAAIwC,QAAQ,GAAG,CAAChD,KAAK,CAACU,MAAM,IAAI,CAAC,CAAC,EAAE6B,IAAI;MACxC,IAAIU,QAAQ,GAAG1D,eAAe,CAACS,KAAK,CAACkD,YAAY,EAAEF,QAAQ,CAAC;;MAE5D;;MAEAhE,GAAG,CAAC0C,UAAU,CAACf,MAAM,CAACa,MAAM,EAAE;QAC1B,WAAW,EAAExB,KAAK,CAACmD,QAAQ,CAACZ,IAAI;QAChC,aAAa,EAAEU,QAAQ,CAACG,MAAM;QAC9B,aAAa,EAAEH,QAAQ,CAACI,MAAM;QAC9B,WAAW,EAAErD,KAAK,CAACmD,QAAQ,CAACG,MAAM,CAACC,KAAK,CAAC,IAAI;MACjD,CAAC,CAAC;MAEFvE,GAAG,CAAC0C,UAAU,CAACf,MAAM,CAACgB,KAAK,EAAE;QACzB,YAAY,EAAE3B,KAAK,CAACmD,QAAQ,CAACpB,KAAK;QAClC,cAAc,EAAE/B,KAAK,CAACgC;MAC1B,CAAC,CAAC;IACN;EACJ;EAEA,OAAOb,IAAI;AACf,CAAC;AAED,SAASH,aAAaA,CAACoB,IAAI,EAAE;EACzB,OAAO;IACHA,IAAI,EAAEA,IAAI;IACVd,OAAO,EAAEpC,YAAY,CAACsE,SAAS,CAAC,CAAC;IACjChC,MAAM,EAAE;MAAEC,UAAU,EAAE;IAAO,CAAC;IAC9BU,MAAM,EAAE,IAAI;IACZR,KAAK,EAAE,CAAC;EACZ,CAAC;AACL;AAEA,SAASO,cAAcA,CAACnC,SAAS,EAAE;EAC/B,IAAIC,KAAK,GAAGD,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK;EAC9B,IAAIU,MAAM,GAAGV,KAAK,CAACU,MAAM;EACzB,IAAI+C,cAAc,GAAGzD,KAAK,CAACyD,cAAc;EACzC,IAAIC,UAAU,GAAG1E,GAAG,CAAC2E,mBAAmB,CAACjD,MAAM,CAACqB,KAAK,CAAC;EACtD,IAAI6B,SAAS,GAAG5E,GAAG,CAAC2E,mBAAmB,CAACjD,MAAM,CAAC6B,IAAI,CAAC;EACpD,IAAIsB,YAAY,GAAG7E,GAAG,CAAC2E,mBAAmB,CAACjD,MAAM,CAACsB,OAAO,CAAC;EAC1D,IAAI8B,CAAC;EAEL,SAASC,eAAeA,CAACC,CAAC,EAAE;IAAE,OAAOhE,KAAK,CAACgC,OAAO,GAAGgC,CAAC;EAAE;EAExD,SAASC,WAAWA,CAACC,CAAC,EAAE;IAAE,OAAOA,CAAC,GAAG,CAAC;EAAE;EAExC,IAAIC,OAAO;EACX,IAAGT,UAAU,EAAE;IACX,IAAGvE,UAAU,CAACiF,aAAa,CAACpE,KAAK,EAAE,QAAQ,CAAC,EAAE;MAC1CmE,OAAO,GAAGhF,UAAU,CAACkF,2BAA2B,CAAC3D,MAAM,CAAC;IAC5D,CAAC,MAAM;MACHyD,OAAO,GAAGnF,GAAG,CAACsF,QAAQ;IAC1B;EACJ;EAEA,IAAIC,MAAM;EACV,IAAGX,SAAS,EAAE;IACVW,MAAM,GAAGlF,gBAAgB,CAACW,KAAK,CAAC;EACpC;EAEA,IAAIwE,SAAS;EACb,IAAGX,YAAY,EAAE;IACbW,SAAS,GAAG,SAAAA,CAAS7B,EAAE,EAAE;MACrB,IAAI8B,GAAG,GAAG1F,SAAS,CAAC4D,EAAE,CAAC,GAAG,CAAC3D,GAAG,CAAC0F,SAAS,CAAC/B,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC;MACtD,OAAOoB,eAAe,CAACU,GAAG,CAAC;IAC/B,CAAC;EACL;EAEA,IAAIE,QAAQ,GAAG,EAAE;EACjB,KAAIb,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/D,SAAS,CAAC6E,MAAM,EAAEd,CAAC,EAAE,EAAE;IAClC,IAAIe,MAAM,GAAG9E,SAAS,CAAC+D,CAAC,CAAC;IACzB,IAAIgB,MAAM,GAAGD,MAAM,CAACC,MAAM;IAE1B,IAAGC,QAAQ,CAACD,MAAM,CAAC,EAAE;IAErB,IAAIE,KAAK,GAAG,CAAC,CAAC;IACd,IAAGb,OAAO,EAAEa,KAAK,CAACvC,GAAG,GAAGoC,MAAM,CAACpC,GAAG,GAAG0B,OAAO,CAACU,MAAM,CAACI,EAAE,CAAC;IACvD,IAAGV,MAAM,EAAES,KAAK,CAACtC,GAAG,GAAGmC,MAAM,CAACnC,GAAG,GAAG6B,MAAM,CAACM,MAAM,CAACK,EAAE,CAAC;IACrD,IAAGV,SAAS,EAAEQ,KAAK,CAACrC,EAAE,GAAG6B,SAAS,CAACK,MAAM,CAAClC,EAAE,CAAC;IAC7C,IAAGc,cAAc,EAAEuB,KAAK,CAACG,QAAQ,GAAGN,MAAM,CAACM,QAAQ,IAAI,CAAC;IAExDR,QAAQ,CAACS,IAAI,CAAC;MACVhD,IAAI,EAAE,SAAS;MACfiD,EAAE,EAAEvB,CAAC,GAAG,CAAC;MACTwB,QAAQ,EAAE;QAAElD,IAAI,EAAE,OAAO;QAAEmD,WAAW,EAAET;MAAO,CAAC;MAChDU,UAAU,EAAER;IAChB,CAAC,CAAC;EACN;EAEA,IAAIS,GAAG;EACP,IAAGhC,cAAc,EAAE;IACfgC,GAAG,GAAGrG,OAAO,CAACsG,yBAAyB,CAAC1F,KAAK,CAAC;IAE9C,KAAI8D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGa,QAAQ,CAACC,MAAM,EAAEd,CAAC,EAAE,EAAE;MACjC,IAAI6B,CAAC,GAAGhB,QAAQ,CAACb,CAAC,CAAC,CAAC0B,UAAU;MAE9B,IAAGC,GAAG,CAACG,iBAAiB,EAAE;QACtBD,CAAC,CAAChD,EAAE,GAAGoB,eAAe,CAAC0B,GAAG,CAACG,iBAAiB,CAACD,CAAC,CAAC,CAAC;MACpD;MACA,IAAGF,GAAG,CAACI,eAAe,EAAE;QACpBF,CAAC,CAAClD,GAAG,GAAGgD,GAAG,CAACI,eAAe,CAACF,CAAC,CAAC;MAClC;MACA,IAAGF,GAAG,CAACK,cAAc,EAAE;QACnBH,CAAC,CAACjD,GAAG,GAAG+C,GAAG,CAACK,cAAc,CAACH,CAAC,CAAC;MACjC;IACJ;EACJ;EAEA,OAAO;IACHrE,OAAO,EAAE;MAACc,IAAI,EAAE,mBAAmB;MAAEuC,QAAQ,EAAEA;IAAQ,CAAC;IACxDlC,GAAG,EAAEiB,UAAU,IAAK+B,GAAG,IAAIA,GAAG,CAACI,eAAgB,GAC3C;MAACzD,IAAI,EAAE,UAAU;MAAEU,QAAQ,EAAE;IAAK,CAAC,GACnCpC,MAAM,CAACqB,KAAK;IAChBW,GAAG,EAAEkB,SAAS,IAAK6B,GAAG,IAAIA,GAAG,CAACK,cAAe,GACzC;MAAC1D,IAAI,EAAE,UAAU;MAAEU,QAAQ,EAAE;IAAK,CAAC,GACnCmB,WAAW,CAACvD,MAAM,CAAC6B,IAAI,CAAC;IAC5BI,EAAE,EAAEkB,YAAY,IAAK4B,GAAG,IAAIA,GAAG,CAACG,iBAAkB,GAC9C;MAACxD,IAAI,EAAE,UAAU;MAAEU,QAAQ,EAAE;IAAI,CAAC,GAClCiB,eAAe,CAACrD,MAAM,CAACsB,OAAO;EACtC,CAAC;AACL;AAEA,SAASY,iBAAiBA,CAAC7C,SAAS,EAAED,EAAE,EAAE;EACtC,IAAIiG,UAAU,GAAGjG,EAAE,CAACkG,WAAW;EAC/B,IAAIhG,KAAK,GAAGD,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK;EAE9B,IAAIU,MAAM,GAAGV,KAAK,CAACU,MAAM,IAAI,CAAC,CAAC;EAC/B,IAAIC,MAAM,GAAGD,MAAM,CAACC,MAAM;EAC1B,IAAIkC,KAAK,GAAGnC,MAAM,CAACmC,KAAK;EAExB,IAAIoD,UAAU,GAAItF,MAAM,KAAK,QAAQ,GACjCuF,WAAW,CAACvF,MAAM,CAAC,GACnBwF,aAAa;EAEjB,IAAIC,SAAS,GAAIvD,KAAK,KAAK,MAAM,GAC7BqD,WAAW,CAACrD,KAAK,EAAE,IAAI,CAAC,GACxBsD,aAAa;EAEjB,IAAIE,QAAQ,GAAG/G,QAAQ,CAACkB,OAAO,CAACR,KAAK,CAAC,GAClCkG,WAAW,CAAClG,KAAK,CAACsG,IAAI,CAAC,GACvBH,aAAa;EAGjB,IAAIxB,QAAQ,GAAG,EAAE;EAEjB,KAAI,IAAIb,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/D,SAAS,CAAC6E,MAAM,EAAEd,CAAC,EAAE,EAAE;IACtC,IAAIe,MAAM,GAAG9E,SAAS,CAAC+D,CAAC,CAAC;IAEzB,IAAGiB,QAAQ,CAACF,MAAM,CAACC,MAAM,CAAC,EAAE;IAE5B,IAAIyB,YAAY,GAAGvG,KAAK,CAACuG,YAAY;IACrC,IAAID,IAAI;IAER,IAAGC,YAAY,EAAE;MACb,IAAIC,EAAE,GAAGC,KAAK,CAACC,OAAO,CAACH,YAAY,CAAC,GAAIA,YAAY,CAACzC,CAAC,CAAC,IAAI,EAAE,GAAIyC,YAAY;MAC7E,IAAII,MAAM,GAAG3G,KAAK,CAAC4G,OAAO,CAACC,YAAY,CAAChC,MAAM,EAAE7E,KAAK,EAAE+F,UAAU,CAAC;MAClE,IAAIe,WAAW,GAAG,CAAC,CAAC;MACpBtH,qBAAqB,CAACsH,WAAW,EAAE9G,KAAK,EAAE6E,MAAM,CAACf,CAAC,CAAC;MACnD,IAAIiD,IAAI,GAAG/G,KAAK,CAACgH,KAAK,IAAI,CAAC,CAAC;MAC5BV,IAAI,GAAGtH,GAAG,CAACiI,kBAAkB,CAACT,EAAE,EAAEG,MAAM,EAAEZ,UAAU,CAACmB,SAAS,EAAEJ,WAAW,EAAEjC,MAAM,EAAEkC,IAAI,CAAC;IAC9F,CAAC,MAAM;MACHT,IAAI,GAAGD,QAAQ,CAACvC,CAAC,CAAC;IACtB;IAEA,IAAGwC,IAAI,EAAE;MACLA,IAAI,GAAGA,IAAI,CAACa,OAAO,CAAC1H,QAAQ,EAAE,EAAE,CAAC,CAAC0H,OAAO,CAACzH,UAAU,EAAE,IAAI,CAAC;IAC/D;IAEAiF,QAAQ,CAACS,IAAI,CAAC;MACVhD,IAAI,EAAE,SAAS;MACfkD,QAAQ,EAAE;QACNlD,IAAI,EAAE,OAAO;QACbmD,WAAW,EAAEV,MAAM,CAACC;MACxB,CAAC;MACDU,UAAU,EAAE;QACR7E,MAAM,EAAEsF,UAAU,CAACnC,CAAC,CAAC;QACrBjB,KAAK,EAAEuD,SAAS,CAACtC,CAAC,CAAC;QACnBwC,IAAI,EAAEA;MACV;IACJ,CAAC,CAAC;EACN;EAEA,OAAO;IACHlE,IAAI,EAAE,mBAAmB;IACzBuC,QAAQ,EAAEA;EACd,CAAC;AACL;AAEA,SAASuB,WAAWA,CAACkB,IAAI,EAAEC,OAAO,EAAE;EAChC,IAAGrI,GAAG,CAAC2E,mBAAmB,CAACyD,IAAI,CAAC,EAAE;IAC9B,IAAGC,OAAO,EAAE;MACR,OAAO,UAASvD,CAAC,EAAE;QAAE,OAAO/E,SAAS,CAACqI,IAAI,CAACtD,CAAC,CAAC,CAAC,GAAG,CAACsD,IAAI,CAACtD,CAAC,CAAC,GAAG,CAAC;MAAE,CAAC;IACpE;IACA,OAAO,UAASA,CAAC,EAAE;MAAE,OAAOsD,IAAI,CAACtD,CAAC,CAAC;IAAE,CAAC;EAC1C,CAAC,MAAM,IAAGsD,IAAI,EAAE;IACZ,OAAO,YAAW;MAAE,OAAOA,IAAI;IAAE,CAAC;EACtC,CAAC,MAAM;IACH,OAAOjB,aAAa;EACxB;AACJ;AAEA,SAASA,aAAaA,CAAA,EAAG;EAAE,OAAO,EAAE;AAAE;;AAEtC;AACA,SAASpB,QAAQA,CAACD,MAAM,EAAE;EACtB,OAAOA,MAAM,CAAC,CAAC,CAAC,KAAK7F,MAAM;AAC/B;AAEA,SAASoD,iBAAiBA,CAACiF,MAAM,EAAEhF,IAAI,EAAE;EACrC,IAAIiF,YAAY;EAChB,IAAGvI,GAAG,CAAC2E,mBAAmB,CAAC2D,MAAM,CAAC,IAAItI,GAAG,CAAC2E,mBAAmB,CAACrB,IAAI,CAAC,EAAE;IACjEiF,YAAY,GAAG,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,aAAa,CAAC,EAAED,MAAM,CAAC,CAAC,CAAC,CAAC;IAE1D,KAAI,IAAIE,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGF,MAAM,CAAC1C,MAAM,EAAE4C,GAAG,EAAE,EAAE;MACzCD,YAAY,CAACnC,IAAI,CAAC9C,IAAI,CAACkF,GAAG,GAAG,CAAC,CAAC,EAAEF,MAAM,CAACE,GAAG,CAAC,CAAC;IACjD;EACJ,CAAC,MAAM;IACHD,YAAY,GAAGD,MAAM;EACzB;EACA,OAAOC,YAAY;AACvB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}