{"ast":null,"code":"'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar getTraceColor = require('../scatter/get_trace_color');\nfunction hoverPoints(pointData, xval, yval, hovermode) {\n  var cd = pointData.cd;\n  var stash = cd[0].t;\n  var trace = cd[0].trace;\n  var xa = pointData.xa;\n  var ya = pointData.ya;\n  var x = stash.x;\n  var y = stash.y;\n  var xpx = xa.c2p(xval);\n  var ypx = ya.c2p(yval);\n  var maxDistance = pointData.distance;\n  var ids;\n\n  // FIXME: make sure this is a proper way to calc search radius\n  if (stash.tree) {\n    var xl = xa.p2c(xpx - maxDistance);\n    var xr = xa.p2c(xpx + maxDistance);\n    var yl = ya.p2c(ypx - maxDistance);\n    var yr = ya.p2c(ypx + maxDistance);\n    if (hovermode === 'x') {\n      ids = stash.tree.range(Math.min(xl, xr), Math.min(ya._rl[0], ya._rl[1]), Math.max(xl, xr), Math.max(ya._rl[0], ya._rl[1]));\n    } else {\n      ids = stash.tree.range(Math.min(xl, xr), Math.min(yl, yr), Math.max(xl, xr), Math.max(yl, yr));\n    }\n  } else {\n    ids = stash.ids;\n  }\n\n  // pick the id closest to the point\n  // note that point possibly may not be found\n  var k, closestId, ptx, pty, i, dx, dy, dist, dxy;\n  var minDist = maxDistance;\n  if (hovermode === 'x') {\n    var xPeriod = !!trace.xperiodalignment;\n    var yPeriod = !!trace.yperiodalignment;\n    for (i = 0; i < ids.length; i++) {\n      k = ids[i];\n      ptx = x[k];\n      dx = Math.abs(xa.c2p(ptx) - xpx);\n      if (xPeriod) {\n        var x0 = xa.c2p(trace._xStarts[k]);\n        var x1 = xa.c2p(trace._xEnds[k]);\n        dx = xpx >= Math.min(x0, x1) && xpx <= Math.max(x0, x1) ? 0 : Infinity;\n      }\n      if (dx < minDist) {\n        minDist = dx;\n        pty = y[k];\n        dy = ya.c2p(pty) - ypx;\n        if (yPeriod) {\n          var y0 = ya.c2p(trace._yStarts[k]);\n          var y1 = ya.c2p(trace._yEnds[k]);\n          dy = ypx >= Math.min(y0, y1) && ypx <= Math.max(y0, y1) ? 0 : Infinity;\n        }\n        dxy = Math.sqrt(dx * dx + dy * dy);\n        closestId = ids[i];\n      }\n    }\n  } else {\n    for (i = ids.length - 1; i > -1; i--) {\n      k = ids[i];\n      ptx = x[k];\n      pty = y[k];\n      dx = xa.c2p(ptx) - xpx;\n      dy = ya.c2p(pty) - ypx;\n      dist = Math.sqrt(dx * dx + dy * dy);\n      if (dist < minDist) {\n        minDist = dxy = dist;\n        closestId = k;\n      }\n    }\n  }\n  pointData.index = closestId;\n  pointData.distance = minDist;\n  pointData.dxy = dxy;\n  if (closestId === undefined) return [pointData];\n  return [calcHover(pointData, x, y, trace)];\n}\nfunction calcHover(pointData, x, y, trace) {\n  var xa = pointData.xa;\n  var ya = pointData.ya;\n  var minDist = pointData.distance;\n  var dxy = pointData.dxy;\n  var id = pointData.index;\n\n  // the closest data point\n  var di = {\n    pointNumber: id,\n    x: x[id],\n    y: y[id]\n  };\n\n  // that is single-item arrays_to_calcdata excerpt, since we are doing it for a single point and we don't have to do it beforehead for 1e6 points\n  di.tx = Lib.isArrayOrTypedArray(trace.text) ? trace.text[id] : trace.text;\n  di.htx = Array.isArray(trace.hovertext) ? trace.hovertext[id] : trace.hovertext;\n  di.data = Array.isArray(trace.customdata) ? trace.customdata[id] : trace.customdata;\n  di.tp = Array.isArray(trace.textposition) ? trace.textposition[id] : trace.textposition;\n  var font = trace.textfont;\n  if (font) {\n    di.ts = Lib.isArrayOrTypedArray(font.size) ? font.size[id] : font.size;\n    di.tc = Array.isArray(font.color) ? font.color[id] : font.color;\n    di.tf = Array.isArray(font.family) ? font.family[id] : font.family;\n  }\n  var marker = trace.marker;\n  if (marker) {\n    di.ms = Lib.isArrayOrTypedArray(marker.size) ? marker.size[id] : marker.size;\n    di.mo = Lib.isArrayOrTypedArray(marker.opacity) ? marker.opacity[id] : marker.opacity;\n    di.mx = Lib.isArrayOrTypedArray(marker.symbol) ? marker.symbol[id] : marker.symbol;\n    di.ma = Lib.isArrayOrTypedArray(marker.angle) ? marker.angle[id] : marker.angle;\n    di.mc = Lib.isArrayOrTypedArray(marker.color) ? marker.color[id] : marker.color;\n  }\n  var line = marker && marker.line;\n  if (line) {\n    di.mlc = Array.isArray(line.color) ? line.color[id] : line.color;\n    di.mlw = Lib.isArrayOrTypedArray(line.width) ? line.width[id] : line.width;\n  }\n  var grad = marker && marker.gradient;\n  if (grad && grad.type !== 'none') {\n    di.mgt = Array.isArray(grad.type) ? grad.type[id] : grad.type;\n    di.mgc = Array.isArray(grad.color) ? grad.color[id] : grad.color;\n  }\n  var xp = xa.c2p(di.x, true);\n  var yp = ya.c2p(di.y, true);\n  var rad = di.mrc || 1;\n  var hoverlabel = trace.hoverlabel;\n  if (hoverlabel) {\n    di.hbg = Array.isArray(hoverlabel.bgcolor) ? hoverlabel.bgcolor[id] : hoverlabel.bgcolor;\n    di.hbc = Array.isArray(hoverlabel.bordercolor) ? hoverlabel.bordercolor[id] : hoverlabel.bordercolor;\n    di.hts = Lib.isArrayOrTypedArray(hoverlabel.font.size) ? hoverlabel.font.size[id] : hoverlabel.font.size;\n    di.htc = Array.isArray(hoverlabel.font.color) ? hoverlabel.font.color[id] : hoverlabel.font.color;\n    di.htf = Array.isArray(hoverlabel.font.family) ? hoverlabel.font.family[id] : hoverlabel.font.family;\n    di.hnl = Lib.isArrayOrTypedArray(hoverlabel.namelength) ? hoverlabel.namelength[id] : hoverlabel.namelength;\n  }\n  var hoverinfo = trace.hoverinfo;\n  if (hoverinfo) {\n    di.hi = Array.isArray(hoverinfo) ? hoverinfo[id] : hoverinfo;\n  }\n  var hovertemplate = trace.hovertemplate;\n  if (hovertemplate) {\n    di.ht = Array.isArray(hovertemplate) ? hovertemplate[id] : hovertemplate;\n  }\n  var fakeCd = {};\n  fakeCd[pointData.index] = di;\n  var origX = trace._origX;\n  var origY = trace._origY;\n  var pointData2 = Lib.extendFlat({}, pointData, {\n    color: getTraceColor(trace, di),\n    x0: xp - rad,\n    x1: xp + rad,\n    xLabelVal: origX ? origX[id] : di.x,\n    y0: yp - rad,\n    y1: yp + rad,\n    yLabelVal: origY ? origY[id] : di.y,\n    cd: fakeCd,\n    distance: minDist,\n    spikeDistance: dxy,\n    hovertemplate: di.ht\n  });\n  if (di.htx) pointData2.text = di.htx;else if (di.tx) pointData2.text = di.tx;else if (trace.text) pointData2.text = trace.text;\n  Lib.fillText(di, trace, pointData2);\n  Registry.getComponentMethod('errorbars', 'hoverInfo')(di, trace, pointData2);\n  return pointData2;\n}\nmodule.exports = {\n  hoverPoints: hoverPoints,\n  calcHover: calcHover\n};","map":{"version":3,"names":["Registry","require","Lib","getTraceColor","hoverPoints","pointData","xval","yval","hovermode","cd","stash","t","trace","xa","ya","x","y","xpx","c2p","ypx","maxDistance","distance","ids","tree","xl","p2c","xr","yl","yr","range","Math","min","_rl","max","k","closestId","ptx","pty","i","dx","dy","dist","dxy","minDist","xPeriod","xperiodalignment","yPeriod","yperiodalignment","length","abs","x0","_xStarts","x1","_xEnds","Infinity","y0","_yStarts","y1","_yEnds","sqrt","index","undefined","calcHover","id","di","pointNumber","tx","isArrayOrTypedArray","text","htx","Array","isArray","hovertext","data","customdata","tp","textposition","font","textfont","ts","size","tc","color","tf","family","marker","ms","mo","opacity","mx","symbol","ma","angle","mc","line","mlc","mlw","width","grad","gradient","type","mgt","mgc","xp","yp","rad","mrc","hoverlabel","hbg","bgcolor","hbc","bordercolor","hts","htc","htf","hnl","namelength","hoverinfo","hi","hovertemplate","ht","fakeCd","origX","_origX","origY","_origY","pointData2","extendFlat","xLabelVal","yLabelVal","spikeDistance","fillText","getComponentMethod","module","exports"],"sources":["/home/zhu/Documents/github/explorer_front/explorer_front_app/node_modules/plotly.js/src/traces/scattergl/hover.js"],"sourcesContent":["'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar getTraceColor = require('../scatter/get_trace_color');\n\nfunction hoverPoints(pointData, xval, yval, hovermode) {\n    var cd = pointData.cd;\n    var stash = cd[0].t;\n    var trace = cd[0].trace;\n    var xa = pointData.xa;\n    var ya = pointData.ya;\n    var x = stash.x;\n    var y = stash.y;\n    var xpx = xa.c2p(xval);\n    var ypx = ya.c2p(yval);\n    var maxDistance = pointData.distance;\n    var ids;\n\n    // FIXME: make sure this is a proper way to calc search radius\n    if(stash.tree) {\n        var xl = xa.p2c(xpx - maxDistance);\n        var xr = xa.p2c(xpx + maxDistance);\n        var yl = ya.p2c(ypx - maxDistance);\n        var yr = ya.p2c(ypx + maxDistance);\n\n        if(hovermode === 'x') {\n            ids = stash.tree.range(\n                Math.min(xl, xr), Math.min(ya._rl[0], ya._rl[1]),\n                Math.max(xl, xr), Math.max(ya._rl[0], ya._rl[1])\n            );\n        } else {\n            ids = stash.tree.range(\n                Math.min(xl, xr), Math.min(yl, yr),\n                Math.max(xl, xr), Math.max(yl, yr)\n            );\n        }\n    } else {\n        ids = stash.ids;\n    }\n\n    // pick the id closest to the point\n    // note that point possibly may not be found\n    var k, closestId, ptx, pty, i, dx, dy, dist, dxy;\n\n    var minDist = maxDistance;\n    if(hovermode === 'x') {\n        var xPeriod = !!trace.xperiodalignment;\n        var yPeriod = !!trace.yperiodalignment;\n\n        for(i = 0; i < ids.length; i++) {\n            k = ids[i];\n            ptx = x[k];\n\n            dx = Math.abs(xa.c2p(ptx) - xpx);\n            if(xPeriod) {\n                var x0 = xa.c2p(trace._xStarts[k]);\n                var x1 = xa.c2p(trace._xEnds[k]);\n\n                dx = (\n                    xpx >= Math.min(x0, x1) &&\n                    xpx <= Math.max(x0, x1)\n                ) ? 0 : Infinity;\n            }\n\n            if(dx < minDist) {\n                minDist = dx;\n                pty = y[k];\n                dy = ya.c2p(pty) - ypx;\n\n                if(yPeriod) {\n                    var y0 = ya.c2p(trace._yStarts[k]);\n                    var y1 = ya.c2p(trace._yEnds[k]);\n\n                    dy = (\n                        ypx >= Math.min(y0, y1) &&\n                        ypx <= Math.max(y0, y1)\n                    ) ? 0 : Infinity;\n                }\n\n                dxy = Math.sqrt(dx * dx + dy * dy);\n                closestId = ids[i];\n            }\n        }\n    } else {\n        for(i = ids.length - 1; i > -1; i--) {\n            k = ids[i];\n            ptx = x[k];\n            pty = y[k];\n            dx = xa.c2p(ptx) - xpx;\n            dy = ya.c2p(pty) - ypx;\n\n            dist = Math.sqrt(dx * dx + dy * dy);\n            if(dist < minDist) {\n                minDist = dxy = dist;\n                closestId = k;\n            }\n        }\n    }\n\n    pointData.index = closestId;\n    pointData.distance = minDist;\n    pointData.dxy = dxy;\n\n    if(closestId === undefined) return [pointData];\n\n    return [calcHover(pointData, x, y, trace)];\n}\n\nfunction calcHover(pointData, x, y, trace) {\n    var xa = pointData.xa;\n    var ya = pointData.ya;\n    var minDist = pointData.distance;\n    var dxy = pointData.dxy;\n    var id = pointData.index;\n\n    // the closest data point\n    var di = {\n        pointNumber: id,\n        x: x[id],\n        y: y[id]\n    };\n\n    // that is single-item arrays_to_calcdata excerpt, since we are doing it for a single point and we don't have to do it beforehead for 1e6 points\n    di.tx = Lib.isArrayOrTypedArray(trace.text) ? trace.text[id] : trace.text;\n    di.htx = Array.isArray(trace.hovertext) ? trace.hovertext[id] : trace.hovertext;\n    di.data = Array.isArray(trace.customdata) ? trace.customdata[id] : trace.customdata;\n    di.tp = Array.isArray(trace.textposition) ? trace.textposition[id] : trace.textposition;\n\n    var font = trace.textfont;\n    if(font) {\n        di.ts = Lib.isArrayOrTypedArray(font.size) ? font.size[id] : font.size;\n        di.tc = Array.isArray(font.color) ? font.color[id] : font.color;\n        di.tf = Array.isArray(font.family) ? font.family[id] : font.family;\n    }\n\n    var marker = trace.marker;\n    if(marker) {\n        di.ms = Lib.isArrayOrTypedArray(marker.size) ? marker.size[id] : marker.size;\n        di.mo = Lib.isArrayOrTypedArray(marker.opacity) ? marker.opacity[id] : marker.opacity;\n        di.mx = Lib.isArrayOrTypedArray(marker.symbol) ? marker.symbol[id] : marker.symbol;\n        di.ma = Lib.isArrayOrTypedArray(marker.angle) ? marker.angle[id] : marker.angle;\n        di.mc = Lib.isArrayOrTypedArray(marker.color) ? marker.color[id] : marker.color;\n    }\n\n    var line = marker && marker.line;\n    if(line) {\n        di.mlc = Array.isArray(line.color) ? line.color[id] : line.color;\n        di.mlw = Lib.isArrayOrTypedArray(line.width) ? line.width[id] : line.width;\n    }\n\n    var grad = marker && marker.gradient;\n    if(grad && grad.type !== 'none') {\n        di.mgt = Array.isArray(grad.type) ? grad.type[id] : grad.type;\n        di.mgc = Array.isArray(grad.color) ? grad.color[id] : grad.color;\n    }\n\n    var xp = xa.c2p(di.x, true);\n    var yp = ya.c2p(di.y, true);\n    var rad = di.mrc || 1;\n\n    var hoverlabel = trace.hoverlabel;\n\n    if(hoverlabel) {\n        di.hbg = Array.isArray(hoverlabel.bgcolor) ? hoverlabel.bgcolor[id] : hoverlabel.bgcolor;\n        di.hbc = Array.isArray(hoverlabel.bordercolor) ? hoverlabel.bordercolor[id] : hoverlabel.bordercolor;\n        di.hts = Lib.isArrayOrTypedArray(hoverlabel.font.size) ? hoverlabel.font.size[id] : hoverlabel.font.size;\n        di.htc = Array.isArray(hoverlabel.font.color) ? hoverlabel.font.color[id] : hoverlabel.font.color;\n        di.htf = Array.isArray(hoverlabel.font.family) ? hoverlabel.font.family[id] : hoverlabel.font.family;\n        di.hnl = Lib.isArrayOrTypedArray(hoverlabel.namelength) ? hoverlabel.namelength[id] : hoverlabel.namelength;\n    }\n    var hoverinfo = trace.hoverinfo;\n    if(hoverinfo) {\n        di.hi = Array.isArray(hoverinfo) ? hoverinfo[id] : hoverinfo;\n    }\n\n    var hovertemplate = trace.hovertemplate;\n    if(hovertemplate) {\n        di.ht = Array.isArray(hovertemplate) ? hovertemplate[id] : hovertemplate;\n    }\n\n    var fakeCd = {};\n    fakeCd[pointData.index] = di;\n\n    var origX = trace._origX;\n    var origY = trace._origY;\n\n    var pointData2 = Lib.extendFlat({}, pointData, {\n        color: getTraceColor(trace, di),\n\n        x0: xp - rad,\n        x1: xp + rad,\n        xLabelVal: origX ? origX[id] : di.x,\n\n        y0: yp - rad,\n        y1: yp + rad,\n        yLabelVal: origY ? origY[id] : di.y,\n\n        cd: fakeCd,\n        distance: minDist,\n        spikeDistance: dxy,\n\n        hovertemplate: di.ht\n    });\n\n    if(di.htx) pointData2.text = di.htx;\n    else if(di.tx) pointData2.text = di.tx;\n    else if(trace.text) pointData2.text = trace.text;\n\n    Lib.fillText(di, trace, pointData2);\n    Registry.getComponentMethod('errorbars', 'hoverInfo')(di, trace, pointData2);\n\n    return pointData2;\n}\n\nmodule.exports = {\n    hoverPoints: hoverPoints,\n    calcHover: calcHover\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}