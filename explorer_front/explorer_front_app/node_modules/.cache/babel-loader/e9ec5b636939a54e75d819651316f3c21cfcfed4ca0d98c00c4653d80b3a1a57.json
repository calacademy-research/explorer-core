{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\nvar subTypes = require('../scatter/subtypes');\nvar handleMarkerDefaults = require('../scatter/marker_defaults');\nvar handleLineDefaults = require('../scatter/line_defaults');\nvar handleTextDefaults = require('../scatter/text_defaults');\nvar handleFillColorDefaults = require('../scatter/fillcolor_defaults');\nvar attributes = require('./attributes');\n\n// Must use one of the following fonts as the family, else default to 'Open Sans Regular'\n// See https://github.com/openmaptiles/fonts/blob/gh-pages/fontstacks.json\nvar supportedFonts = ['Metropolis Black Italic', 'Metropolis Black', 'Metropolis Bold Italic', 'Metropolis Bold', 'Metropolis Extra Bold Italic', 'Metropolis Extra Bold', 'Metropolis Extra Light Italic', 'Metropolis Extra Light', 'Metropolis Light Italic', 'Metropolis Light', 'Metropolis Medium Italic', 'Metropolis Medium', 'Metropolis Regular Italic', 'Metropolis Regular', 'Metropolis Semi Bold Italic', 'Metropolis Semi Bold', 'Metropolis Thin Italic', 'Metropolis Thin', 'Open Sans Bold Italic', 'Open Sans Bold', 'Open Sans Extra Bold Italic', 'Open Sans Extra Bold', 'Open Sans Italic', 'Open Sans Light Italic', 'Open Sans Light', 'Open Sans Regular', 'Open Sans Semibold Italic', 'Open Sans Semibold', 'Klokantech Noto Sans Bold', 'Klokantech Noto Sans CJK Bold', 'Klokantech Noto Sans CJK Regular', 'Klokantech Noto Sans Italic', 'Klokantech Noto Sans Regular'];\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n  function coerce2(attr, dflt) {\n    return Lib.coerce2(traceIn, traceOut, attributes, attr, dflt);\n  }\n  var len = handleLonLatDefaults(traceIn, traceOut, coerce);\n  if (!len) {\n    traceOut.visible = false;\n    return;\n  }\n  coerce('text');\n  coerce('texttemplate');\n  coerce('hovertext');\n  coerce('hovertemplate');\n  coerce('mode');\n  coerce('below');\n  if (subTypes.hasMarkers(traceOut)) {\n    handleMarkerDefaults(traceIn, traceOut, defaultColor, layout, coerce, {\n      noLine: true,\n      noAngle: true\n    });\n    coerce('marker.allowoverlap');\n    coerce('marker.angle');\n\n    // array marker.size and marker.color are only supported with circles\n    var marker = traceOut.marker;\n    if (marker.symbol !== 'circle') {\n      if (Lib.isArrayOrTypedArray(marker.size)) marker.size = marker.size[0];\n      if (Lib.isArrayOrTypedArray(marker.color)) marker.color = marker.color[0];\n    }\n  }\n  if (subTypes.hasLines(traceOut)) {\n    handleLineDefaults(traceIn, traceOut, defaultColor, layout, coerce, {\n      noDash: true\n    });\n    coerce('connectgaps');\n  }\n  var clusterMaxzoom = coerce2('cluster.maxzoom');\n  var clusterStep = coerce2('cluster.step');\n  var clusterColor = coerce2('cluster.color', traceOut.marker && traceOut.marker.color || defaultColor);\n  var clusterSize = coerce2('cluster.size');\n  var clusterOpacity = coerce2('cluster.opacity');\n  var clusterEnabledDflt = clusterMaxzoom !== false || clusterStep !== false || clusterColor !== false || clusterSize !== false || clusterOpacity !== false;\n  coerce('cluster.enabled', clusterEnabledDflt);\n  if (subTypes.hasText(traceOut)) {\n    handleTextDefaults(traceIn, traceOut, layout, coerce, {\n      noSelect: true,\n      font: {\n        family: supportedFonts.indexOf(layout.font.family) !== -1 ? layout.font.family : 'Open Sans Regular',\n        size: layout.font.size,\n        color: layout.font.color\n      }\n    });\n  }\n  coerce('fill');\n  if (traceOut.fill !== 'none') {\n    handleFillColorDefaults(traceIn, traceOut, defaultColor, coerce);\n  }\n  Lib.coerceSelectionMarkerOpacity(traceOut, coerce);\n};\nfunction handleLonLatDefaults(traceIn, traceOut, coerce) {\n  var lon = coerce('lon') || [];\n  var lat = coerce('lat') || [];\n  var len = Math.min(lon.length, lat.length);\n  traceOut._length = len;\n  return len;\n}","map":{"version":3,"names":["Lib","require","subTypes","handleMarkerDefaults","handleLineDefaults","handleTextDefaults","handleFillColorDefaults","attributes","supportedFonts","module","exports","supplyDefaults","traceIn","traceOut","defaultColor","layout","coerce","attr","dflt","coerce2","len","handleLonLatDefaults","visible","hasMarkers","noLine","noAngle","marker","symbol","isArrayOrTypedArray","size","color","hasLines","noDash","clusterMaxzoom","clusterStep","clusterColor","clusterSize","clusterOpacity","clusterEnabledDflt","hasText","noSelect","font","family","indexOf","fill","coerceSelectionMarkerOpacity","lon","lat","Math","min","length","_length"],"sources":["/home/zhu/Documents/github/explorer_front/explorer_front_app/node_modules/plotly.js/src/traces/scattermapbox/defaults.js"],"sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\n\nvar subTypes = require('../scatter/subtypes');\nvar handleMarkerDefaults = require('../scatter/marker_defaults');\nvar handleLineDefaults = require('../scatter/line_defaults');\nvar handleTextDefaults = require('../scatter/text_defaults');\nvar handleFillColorDefaults = require('../scatter/fillcolor_defaults');\nvar attributes = require('./attributes');\n\n// Must use one of the following fonts as the family, else default to 'Open Sans Regular'\n// See https://github.com/openmaptiles/fonts/blob/gh-pages/fontstacks.json\nvar supportedFonts = [\n    'Metropolis Black Italic',\n    'Metropolis Black',\n    'Metropolis Bold Italic',\n    'Metropolis Bold',\n    'Metropolis Extra Bold Italic',\n    'Metropolis Extra Bold',\n    'Metropolis Extra Light Italic',\n    'Metropolis Extra Light',\n    'Metropolis Light Italic',\n    'Metropolis Light',\n    'Metropolis Medium Italic',\n    'Metropolis Medium',\n    'Metropolis Regular Italic',\n    'Metropolis Regular',\n    'Metropolis Semi Bold Italic',\n    'Metropolis Semi Bold',\n    'Metropolis Thin Italic',\n    'Metropolis Thin',\n    'Open Sans Bold Italic',\n    'Open Sans Bold',\n    'Open Sans Extra Bold Italic',\n    'Open Sans Extra Bold',\n    'Open Sans Italic',\n    'Open Sans Light Italic',\n    'Open Sans Light',\n    'Open Sans Regular',\n    'Open Sans Semibold Italic',\n    'Open Sans Semibold',\n    'Klokantech Noto Sans Bold',\n    'Klokantech Noto Sans CJK Bold',\n    'Klokantech Noto Sans CJK Regular',\n    'Klokantech Noto Sans Italic',\n    'Klokantech Noto Sans Regular'\n];\n\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    function coerce2(attr, dflt) {\n        return Lib.coerce2(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    var len = handleLonLatDefaults(traceIn, traceOut, coerce);\n    if(!len) {\n        traceOut.visible = false;\n        return;\n    }\n\n    coerce('text');\n    coerce('texttemplate');\n    coerce('hovertext');\n    coerce('hovertemplate');\n    coerce('mode');\n    coerce('below');\n\n    if(subTypes.hasMarkers(traceOut)) {\n        handleMarkerDefaults(traceIn, traceOut, defaultColor, layout, coerce, {noLine: true, noAngle: true});\n\n        coerce('marker.allowoverlap');\n        coerce('marker.angle');\n\n        // array marker.size and marker.color are only supported with circles\n        var marker = traceOut.marker;\n        if(marker.symbol !== 'circle') {\n            if(Lib.isArrayOrTypedArray(marker.size)) marker.size = marker.size[0];\n            if(Lib.isArrayOrTypedArray(marker.color)) marker.color = marker.color[0];\n        }\n    }\n\n    if(subTypes.hasLines(traceOut)) {\n        handleLineDefaults(traceIn, traceOut, defaultColor, layout, coerce, {noDash: true});\n        coerce('connectgaps');\n    }\n\n    var clusterMaxzoom = coerce2('cluster.maxzoom');\n    var clusterStep = coerce2('cluster.step');\n    var clusterColor = coerce2('cluster.color', (traceOut.marker && traceOut.marker.color) || defaultColor);\n    var clusterSize = coerce2('cluster.size');\n    var clusterOpacity = coerce2('cluster.opacity');\n\n    var clusterEnabledDflt =\n        clusterMaxzoom !== false ||\n        clusterStep !== false ||\n        clusterColor !== false ||\n        clusterSize !== false ||\n        clusterOpacity !== false;\n\n    coerce('cluster.enabled', clusterEnabledDflt);\n\n    if(subTypes.hasText(traceOut)) {\n        handleTextDefaults(traceIn, traceOut, layout, coerce,\n            {noSelect: true,\n                font: {\n                    family: supportedFonts.indexOf(layout.font.family) !== -1 ? layout.font.family : 'Open Sans Regular',\n                    size: layout.font.size,\n                    color: layout.font.color\n                }\n            });\n    }\n\n    coerce('fill');\n    if(traceOut.fill !== 'none') {\n        handleFillColorDefaults(traceIn, traceOut, defaultColor, coerce);\n    }\n\n    Lib.coerceSelectionMarkerOpacity(traceOut, coerce);\n};\n\nfunction handleLonLatDefaults(traceIn, traceOut, coerce) {\n    var lon = coerce('lon') || [];\n    var lat = coerce('lat') || [];\n    var len = Math.min(lon.length, lat.length);\n    traceOut._length = len;\n\n    return len;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}