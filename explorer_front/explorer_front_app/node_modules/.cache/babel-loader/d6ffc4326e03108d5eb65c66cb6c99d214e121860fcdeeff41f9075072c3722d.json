{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport L from 'leaflet';\nimport markerImage from '@/assets/marker.png';\nimport 'leaflet-draw/dist/leaflet.draw.css';\nimport 'leaflet-draw/dist/leaflet.draw';\nexport default {\n  setup() {\n    const mapContainer = ref(null);\n    onMounted(() => {\n      const map = L.map(mapContainer.value).setView([-0.207259, -90.142578], 8); // Center coordinates of Hawaii, zoom level 8\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\n      var drawnItems = new L.FeatureGroup();\n      map.addLayer(drawnItems);\n      var drawControl = new L.Control.Draw({\n        draw: {\n          polygon: true,\n          polyline: false,\n          rectangle: false,\n          circle: false,\n          marker: false\n        },\n        edit: {\n          featureGroup: drawnItems,\n          edit: false,\n          remove: false\n        }\n      });\n      map.addControl(drawControl);\n      map.on(L.Draw.Event.CREATED, function (event) {\n        var layer = event.layer;\n        drawnItems.addLayer(layer);\n\n        // Do something with the drawn polygon, like getting its coordinates\n        var polygonCoordinates = layer.getLatLngs();\n        console.log(\"layer info\", layer);\n        var geoJSON = layer.toGeoJSON();\n        console.log(\"geoJSON: \", geoJSON);\n        console.log(JSON.stringify(geoJSON.geometry.coordinates));\n        console.log(polygonCoordinates);\n        console.log(JSON.stringify(polygonCoordinates));\n        layer.bindPopup('<p>Island <br>' + JSON.stringify(geoJSON) + '</p>');\n      });\n      var myIcon = L.icon({\n        //iconUrl: require('./src/assets/marker.png'),\n        iconUrl: markerImage,\n        //iconSize: [38, 95],\n        iconAnchor: [22, 94],\n        popupAnchor: [-3, -76]\n        //shadowUrl: ,\n        //shadowSize: [68, 95],\n        //shadowAnchor: [22, 94]\n      });\n      const marker = L.marker([parseFloat(item.Latitude), parseFloat(item.Longitude)], {\n        icon: myIcon\n      }).addTo(map);\n      if (item.Remarks != null) {\n        popupString = \"<i>\\\"\" + item.Remarks + \"\\\"</i><br>\" + item.Geoname + \"<br>\" + item.Start;\n      } else {\n        popupString = item.Geoname + \"<br>\" + item.Start;\n      }\n      //marker.bindPopup('<br>Hi CAS!</br>')\n      marker.bindPopup(popupString);\n      markers.push(marker);\n    });\n    return {\n      mapContainer\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","L","markerImage","setup","mapContainer","map","value","setView","tileLayer","addTo","drawnItems","FeatureGroup","addLayer","drawControl","Control","Draw","draw","polygon","polyline","rectangle","circle","marker","edit","featureGroup","remove","addControl","on","Event","CREATED","event","layer","polygonCoordinates","getLatLngs","console","log","geoJSON","toGeoJSON","JSON","stringify","geometry","coordinates","bindPopup","myIcon","icon","iconUrl","iconAnchor","popupAnchor","parseFloat","item","Latitude","Longitude","Remarks","popupString","Geoname","Start","markers","push"],"sources":["/home/zhu/Documents/github/explorer_front/explorer_front_app/src/components/GalapagosMap.vue"],"sourcesContent":["<template>\n  <div ref=\"mapContainer\" class=\"map-container\"></div>\n\n\n</template>\n\n\n\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport L from 'leaflet';\nimport markerImage from '@/assets/marker.png'\n\nimport 'leaflet-draw/dist/leaflet.draw.css';\nimport 'leaflet-draw/dist/leaflet.draw';\n\nexport default {\n  setup() {\n    const mapContainer = ref(null);\n\n    onMounted(() => {\n      const map = L.map(mapContainer.value).setView([-0.207259, -90.142578], 8); // Center coordinates of Hawaii, zoom level 8\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\n      \n      var drawnItems = new L.FeatureGroup();\n      map.addLayer(drawnItems);\n\n      var drawControl = new L.Control.Draw({\n        draw: {\n          polygon: true,\n          polyline: false,\n          rectangle: false,\n          circle: false,\n          marker: false,\n        },\n        edit: {\n          featureGroup: drawnItems,\n          edit: false,\n          remove: false,\n        },\n      });\n      map.addControl(drawControl);\n\n      map.on(L.Draw.Event.CREATED, function (event) {\n      var layer = event.layer;\n      drawnItems.addLayer(layer);\n\n      // Do something with the drawn polygon, like getting its coordinates\n      var polygonCoordinates = layer.getLatLngs();\n      console.log(\"layer info\", layer);\n      var geoJSON = layer.toGeoJSON();\n      console.log(\"geoJSON: \", geoJSON);\n      console.log(JSON.stringify(geoJSON.geometry.coordinates));\n      console.log(polygonCoordinates);\n      console.log(JSON.stringify(polygonCoordinates));\n\n      layer.bindPopup('<p>Island <br>'+JSON.stringify(geoJSON)+'</p>');\n \n    });\n\n    var myIcon = L.icon({\n        //iconUrl: require('./src/assets/marker.png'),\n        iconUrl: markerImage,\n        //iconSize: [38, 95],\n        iconAnchor: [22, 94],\n        popupAnchor: [-3, -76],\n        //shadowUrl: ,\n        //shadowSize: [68, 95],\n        //shadowAnchor: [22, 94]\n    });\n        const marker = L.marker([parseFloat(item.Latitude), parseFloat(item.Longitude)], {icon: myIcon}).addTo(map);\n            if (item.Remarks!=null){\n              popupString = \"<i>\\\"\" + item.Remarks + \"\\\"</i><br>\" + item.Geoname + \"<br>\" + item.Start\n            }\n            else{\n              popupString = item.Geoname + \"<br>\" + item.Start\n            }\n            //marker.bindPopup('<br>Hi CAS!</br>')\n            marker.bindPopup(popupString)\n            markers.push(marker);\n    });\n\n    return { mapContainer };\n  },\n};\n</script>\n\n<style scoped>\n.map-container {\n  width: 96%;\n  height: 1000px; /* Set the height of your map container */\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}